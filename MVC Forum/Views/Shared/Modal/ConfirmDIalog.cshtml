@model ConfirmDialogViewModel
<modal id="confirmModal" title="@Model.Title">
    <modal-body>
        @Html.Raw(Model.Message)
    </modal-body>
    <modal-footer dismiss-text="Cancel">
        <a href="#" id="btnYes" class="btn btn-danger">@Localizer["btnOk"]</a>
    </modal-footer>
</modal>

<storecontent asp-key="confirm-dialog">
    <script type="text/javascript">
        $(document).on('click','.confirm-delete', function(e) {
            e.preventDefault();
            debugger;
            var id = $(this).data('id');
            var href = $(this).attr('href');
            (async () => {
                const result = await b_confirm('@Html.Raw(Model.Message)')
                if (result) {
                    $.get(href.replace("~", SnitzVars.baseUrl) + id, function(result){
                        window.location.replace(result.redirectToUrl);
                    });
                }
            })();
            //$('#confirmModal').data('id', id).data('url', href.replace("~", SnitzVars.baseUrl)).modal('show');
        });

        // $(document).on('click','#btnYes',function(e) {
        //     // handle deletion here
        //     e.preventDefault();
        //     var id = $('#confirmModal').data('id');
        //     var url = $('#confirmModal').data('url');
        //     $.get(url, function(result){
        //         $('[data-id='+id+']').remove();
        //         $('#confirmModal').modal('hide');
        //         window.location.replace(result.redirectToUrl);
        //     });

        // });
    </script>
</storecontent>