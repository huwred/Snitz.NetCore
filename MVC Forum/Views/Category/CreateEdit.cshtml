@using SmartBreadcrumbs
@using Microsoft.AspNetCore.Mvc.TagHelpers
@using MVCForum.TagHelpers
@model MVCForum.ViewModels.Category.CategoryViewModel
@{
}
<div class="container pt-0">
    <snitz-breadcrumb></snitz-breadcrumb>
    <div class="row">
        <div class="col col-md-6">
            <form asp-controller="Category" asp-action="CreateEdit" method="post"  class="p-4 bg-form rounded">
                <input asp-for="@Model.Id" type="hidden"/>
                <div class="mb-3">
                    <label asp-for="Name" class="form-label">@Localizer["catName"]</label>
                    <input asp-for="@Model.Name" type="text" class="form-control"/>
                    <div class="invalid-feedback">@Localizer["PropertyRequired",Localizer["catName"]]You must provide a name.</div>
                </div>

                <div class="mb-3 row">
                    <label asp-for="Status" class="form-label col-12">@Localizer["catStatus"]</label>
                    <div class="col-10 col-lg-4">
                        <select class="form-select" name="Status" asp-for="Status" asp-items="@(Html.GetEnumSelectList<Status>().Where(s=>s.Value == "0" || s.Value == "1"))">
                        </select>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label asp-for="Subscription" class="form-label col-12">@Localizer["catSubscription"]</label>
                    <div class="col-10 col-lg-7">
                        <enum-select name="Subscription" enum-type="typeof(CategorySubscription)" selected-value="(int)Model.Subscription" text-localizer-delegate="delegate(string s) { return Localizer[s].Value; }"></enum-select>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label asp-for="Moderation" class="form-label col-12">@Localizer["catModeration"]</label>
                    <div class="col-10 col-lg-6">
                        <enum-select name="Moderation" enum-type="typeof(ModerationLevel)" selected-value="(int)Model.Moderation" text-localizer-delegate="delegate(string s) { return Localizer[s].Value; }"></enum-select>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label asp-for="Sort" class="form-label col-12">@Localizer["catOrder"]</label>
                    <div class="col-10 col-lg-4">
                        <input asp-for="@Model.Sort" type="number" class="form-control col-lg-4" />
                    </div>
                </div>
                <partial name="FormButtons"/>
            </form>

        </div>
        <div class="col col-md-6">
            <form>
                <button-confirm selector="confirm-delete" config-class="fa fa-trash" config-key="@Model.Id" href="/Category/EmptyCategory/?id=" title="Empty Category (delete forums)"></button-confirm>
                <button-confirm selector="confirm-delete" config-class="fa fa-trash" config-key="@Model.Id" href="/Category/Delete/?id=" title="Delete Category"></button-confirm>
                <div class="btn-group">
                </div>
            </form>
        </div>
    </div>
</div>

@{
    var confModel = new ConfirmDialogViewModel()
            {
                Title = "Category",
                Message = @"<p>You are about to Delete or Empty this Category.</p>
                <p>Do you wish to proceed?</p>"
            };
}
<partial name="ConfirmDialog" model="@confModel" />
@section Scripts
{
    <script type="text/javascript" src="/js/ConfirmDialog.js" crossorigin="anonymous"></script>

}