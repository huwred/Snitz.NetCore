function displayBusyIndicator(){$(".loading").show()}function ValidateForms(){var n=document.getElementsByClassName("needs-validation"),t=Array.prototype.filter.call(n,function(n){n.addEventListener("submit",function(t){n.checkValidity()===!1&&(t.preventDefault(),t.stopPropagation());n.classList.add("was-validated")},!1)})}function bbcodeinsert(n,t,i){var r=$("#"+i),u=r.val(),f=r[0].selectionStart,e=r[0].selectionEnd,o=r.val().substring(f,e);r.val(u.replaceAt(f,n+o+t)+u.substring(e))}$(document).ready(function(){$("time.timeago").timeago();$("*[data-autocomplete-url]").each(function(){$(this).autocomplete({source:$(this).data("autocomplete-url"),minLength:3})});SnitzVars.pending>0&&($("#forumAlert").modal("show"),setTimeout(function(){$("#forumAlert").modal("hide")},3e3))});String.prototype.replaceAt=function(n,t){return this.substr(0,n)+t+this.substr(n+t.length)};new bootstrap.Tooltip(document.body,{selector:"[data-toggle='tooltip']"});const alertPlaceholder=document.getElementById("liveAlertPlaceholder"),appendAlert=(n,t)=>{const i=document.createElement("div");i.innerHTML=[`<div class="alert alert-${t} alert-dismissible position-absolute top-50 start-50 translate-middle" role="alert">`,`   <div>${n}</div>`,'   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"><\/button>',"<\/div>"].join("");alertPlaceholder.append(i)};$(document).on("click",".insert-emote",function(){var n=$("#msg-text"),t=n[0].selectionStart,i=n.val(),r=$(this).data("code").trim();n.val(i.substring(0,t)+r+i.substring(t))});$(document).on("click",".btn-postform",function(){bbcodeinsert($(this).data("first"),$(this).data("last"),"msg-text")});$(document).on("click",".cat-change",function(){location.href=SnitzVars.baseUrl+"/Forum"});$(document).on("change","#theme-change",function(){$.get(SnitzVars.baseUrl+"/Account/SetTheme/?theme="+$(this).val(),function(){location.reload(!0)})});$(document).on("mouseup",".topic-select",function(){$.ajax({type:"POST",url:SnitzVars.baseUrl+"/Topic/UpdateTopicList/?id="+$(this).val(),data:{topicid:$(this).val()},cache:!1})});$(document).on("change",".topic-select",function(){var n=$('input[name="topicselected"]').filter(":checked").length;n<2?$(".fa-object-group").hide():n>1&&$(".fa-object-group").show()});$(document).on("click",".fa-object-group",function(n){var t,i;n.preventDefault();t=[];$('input[name="topicselected"]').filter(":checked").each(function(){t.push($(this).val())});$(document).off("click","#btnYes");i=SnitzVars.baseUrl+"/Topic/Merge";$("#confirmModal .text-bg-warning").html("Merge Topics");$("#confirmModal #confirm-body").html("<p>You are about to Merge the select Topics.<\/p><p>Do you wish to proceed?<\/p>");$("#confirmModal").data("id",0).data("url",i).modal("show");$("#confirmModal").one("click","#btnYes",function(n){n.preventDefault();$.post(SnitzVars.baseUrl+"/Topic/Merge",{selected:t},function(n){n?location.reload():appendAlert(n.error,"error")})})});$(document).on("mouseup",".reply-select",function(){$.ajax({type:"POST",url:SnitzVars.baseUrl+"/Topic/UpdateReplyList",data:{replyid:$(this).val()},cache:!1})});$(document).on("change",".reply-select",function(){var n=$('input[name="replyselected"]').filter(":checked").length;n<1?$(".fa-object-ungroup").hide():n>0&&$(".fa-object-ungroup").show()});$(document).on("click",".confirm-restart",function(n){n.preventDefault();var t=$(this).attr("href");$("#confirmRestart").data("url",t).modal("show");$("#confirmRestart").on("click","#btnRestartYes",function(n){n.preventDefault();$.post(t,"",function(n){n?($("#confirmRestart .modal-body").html("<p>Application is restarting, please wait ...<\/p>"),$("#btnRestartYes").hide(),setTimeout(function(){$("#confirmRestart").modal("hide");location.reload(!0)},25e3)):appendAlert("There was a problem!","error")})})});$(document).on("submit","form",function(){displayBusyIndicator()});$(window).on("beforeunload",function(){displayBusyIndicator()});window.addEventListener("pageshow",function(n){var t=n.persisted||typeof performance!="undefined"&&window.performance.navigation.type===2;t&&window.location.reload()});$(document).ajaxComplete(function(){$(".loading").hide()});SnitzVars.showPageTimer=="1"&&window.addEventListener("load",()=>{const[n]=performance.getEntriesByType("navigation"),t=document.getElementById("loadTime");let i=0;if(n.responseEnd>0&&(i=(n.responseEnd-n.workerStart)/1e3,t)){var r=i.toLocaleString(undefined,{minimumFractionDigits:2});t.textContent=`Page loaded in ${r} s`}});