function bbcodeinsert(n,t,i){var r=$("#"+i),u=r.val(),f=r[0].selectionStart,e=r[0].selectionEnd,o=r.val().substring(f,e);r.val(u.replaceAt(f,n+o+t)+u.substring(e))}function ValidateForms(){var n=document.getElementsByClassName("needs-validation"),t=Array.prototype.filter.call(n,function(n){n.addEventListener("submit",function(t){n.checkValidity()===!1&&(t.preventDefault(),t.stopPropagation());n.classList.add("was-validated")},!1)})}$(document).ready(function(){$("time.timeago").timeago();$("*[data-autocomplete-url]").each(function(){$(this).autocomplete({source:$(this).data("autocomplete-url"),minLength:3})})});String.prototype.replaceAt=function(n,t){return this.substr(0,n)+t+this.substr(n+t.length)};$(document).on("click",".insert-emote",function(){var n=$("#msg-text"),t=n[0].selectionStart,i=n.val(),r=$(this).data("code").trim();n.val(i.substring(0,t)+r+i.substring(t))});$(document).on("click",".btn-postform",function(){bbcodeinsert($(this).data("first"),$(this).data("last"),"msg-text")});$(document).on("click",".cat-change",function(){location.href="/Forum"});$(document).on("change","#theme-change",function(){$.get("/Account/SetTheme/?theme="+$(this).val(),function(){location.reload(!0)})});