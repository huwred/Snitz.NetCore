function revalidate(){var t=document.getElementById("reply-area"),n,i;t&&(n=t.getElementsByTagName("form"),i=n[n.length-1],$.validator.unobtrusive.parse(i))}(function(){"use strict";window.addEventListener("load",function(){ValidateForms();revalidate()},!1)})();$(document).on("change","#sortdir",function(){$("#defaultdays-form").submit()});$(document).on("click",".reply-del",function(){let n;if(confirm("Are you sure!")===!0){n=$(this).data("id");var t=$(this).data("archived");$.post(SnitzVars.baseUrl+"/Reply/Delete",{id:n,archived:t},function(n){n.result?location.reload(!0):appendAlert(n.error,"error")})}});$(document).on("click",".post-del",function(n){n.preventDefault();var t=$(this).data("id"),i=$(this).attr("href"),r=$(this).data("archived");$("#confirmModal h4.text-bg-warning").html("Delete Post");$("#confirmModal #confirm-body").html("<p>You are about to Delete this Topic.<\/p><p>Do you wish to proceed?<\/p>");$("#confirmModal").data("id",t).data("url",i).modal("show");$("#confirmModal").on("click","#btnYes",function(n){n.preventDefault();$.post(SnitzVars.baseUrl+"/Topic/Delete",{id:t,archived:r},function(n){n.result?location.href=n.url:appendAlert(n.error,"error")})})});$(document).on("click",".lock-member",function(n){n.preventDefault();var t=$(this).data("id"),i=$(this).data("url");$("#modal-title").html("Lock Member");$("#member-modal").html("Toggle Member Status");$("#memberModal").data("id",t).modal("show");$("#memberModal #btnOk").show();$("#memberModal").one("click","#btnOk",function(n){n.preventDefault();$.post(i,{id:t},function(n){n.result?location.reload():appendAlert(n.error,"error")})})});$(document).on("click",".bookmark-add",function(n){n.preventDefault();var i=$(this).attr("href"),t=$(this).data("id");$("#confirmModal h4.text-bg-warning").html("Bookmark Post");$("#confirmModal #confirm-body").html("<p>You are about to Bookmark this Topic.<\/p><p>Do you wish to proceed?<\/p>");$("#confirmModal").data("id",t).data("url",i).modal("show");$("#confirmModal").on("click","#btnYes",function(n){n.preventDefault();n.stopPropagation();$.post(SnitzVars.baseUrl+"/Bookmark/Create",{id:t},function(n){$("#confirmModal").modal("hide");n.result?location.reload(!0):appendAlert(n.error,"error")})})});$(document).on("click",".bookmark-del",function(n){n.preventDefault();var i=$(this).attr("href"),t=$(this).data("id");$("#confirmModal h4.text-bg-warning").html("Delete Bookmark");$("#confirmModal #confirm-body").html("<p>You are about to delete this Bookmark.<\/p><p>Do you wish to proceed?<\/p>");$("#confirmModal").data("id",t).data("url",i).modal("show");$("#confirmModal").on("click","#btnYes",function(n){n.preventDefault();$.post(SnitzVars.baseUrl+"/Bookmark/Delete",{id:t},function(n){$("#confirmModal").modal("hide");n.result?location.reload(!0):appendAlert(n.error,"error")})})});$(document).on("click",".post-lock",function(n){n.preventDefault();var i=$(this).attr("href"),t=$(this).data("id"),r=$(this).data("status");$("#confirmModal h4.text-bg-warning").html("Lock Post");$("#confirmModal #confirm-body").html("<p>You are about to Lock this Topic.<\/p><p>Do you wish to proceed?<\/p>");$("#confirmModal").data("id",t).data("url",i).modal("show");$("#confirmModal").on("click","#btnYes",function(n){n.preventDefault();n.stopPropagation();$.post(SnitzVars.baseUrl+"/Topic/LockTopic",{id:t,status:r},function(n){$("#confirmModal").modal("hide");n.result?location.reload(!0):appendAlert(n.error,"error")})})});$(document).on("click",".post-stick",function(n){n.preventDefault();var i=$(this).attr("href"),t=$(this).data("id"),r=$(this).data("status");$("#confirmModal h4.text-bg-warning").html("Sticky Post");$("#confirmModal #confirm-body").html("<p>Toggle stickiness.<\/p><p>Do you wish to proceed?<\/p>");$("#confirmModal").data("id",t).data("url",i).modal("show");$("#confirmModal").on("click","#btnYes",function(n){n.preventDefault();n.stopPropagation();$.post(SnitzVars.baseUrl+"/Topic/MakeSticky",{id:t,state:r},function(n){$("#confirmModal").modal("hide");n.result?location.reload(!0):appendAlert(n.error,"error")})})});$(document).on("click",".reply-quote",function(){var n=$(this).data("id");location.href=SnitzVars.baseUrl+"/Reply/Quote/"+n});$(document).on("click",".post-quote",function(){var n=$(this).data("id");location.href=SnitzVars.baseUrl+"/Topic/Quote/"+n});$(document).on("click",".post-reply",function(){var n=$(this).data("id");location.href=SnitzVars.baseUrl+"/Reply/Create/"+n});$(document).on("click",".reply-edit",function(){var n=$(this).data("id");archived=$(this).data("archived");location.href=SnitzVars.baseUrl+"/Reply/Edit/"+n+"?archived="+archived});$(document).on("click",".reply-answer",function(n){n.preventDefault();var i=$(this).attr("href"),t=$(this).data("id"),r=$(this).data("status");$("#confirmModal h4.text-bg-warning").html("Answer");$("#confirmModal #confirm-body").html("<p>Mark as Answer?<\/p><p>Do you wish to proceed?<\/p>");$("#confirmModal").data("id",t).data("url",i).modal("show");$("#confirmModal").on("click","#btnYes",function(n){n.preventDefault();n.stopPropagation();$.post(SnitzVars.baseUrl+"/Topic/Answered",{id:t,status:r},function(n){$("#confirmModal").modal("hide");n.result?location.reload(!0):appendAlert(n.error,"error")})})});$(document).on("click",".post-edit",function(){var n=$(this).data("id");archived=$(this).data("archived");location.href=SnitzVars.baseUrl+"/Topic/Edit/"+n+"?archived="+archived});$(document).on("click",".thumbs-up",function(n){n.preventDefault();var t=$(this).data("id"),i=$(this).data("replyid");$.post(SnitzVars.baseUrl+"/PostThanks/Thank",{id:t,replyid:i},function(n){$("#confirmModal").modal("hide");n.result?location.reload(!0):appendAlert(n.error,"error")})});$(document).on("click",".thumbs-down",function(n){n.preventDefault();var t=$(this).data("id"),i=$(this).data("replyid");$.post(SnitzVars.baseUrl+"/PostThanks/UnThank",{id:t,replyid:i},function(n){$("#confirmModal").modal("hide");n.result?location.reload(!0):appendAlert(n.error,"error")})});$(".thanks-list").on("mouseenter",function(){var n=$(this),t=n.data("id"),i=n.data("replyid");$.ajax({url:SnitzVars.baseUrl+"/PostThanks/Members/"+t+"?replyid="+i,"async":!1,success:function(t){n.popover({html:!0,content:t}).popover("show")},error:function(n){appendAlert(n.responseText,"warning")}})}).on("mouseleave",function(){var n=$(this);n.popover("hide")});$.fn.extend({insertAtCaret:function(n){var t=$(this)[0];if(document.selection!==undefined)this.focus(),sel=document.selection.createRange(),sel.text=n,this.focus();else if(t.selectionStart!=undefined){var i=t.selectionStart,r=t.selectionEnd,u=t.scrollTop;t.value=t.value.substring(0,i)+n+t.value.substring(r,t.value.length);this.focus();this.selectionStart=i+n.length;this.selectionEnd=i+n.length;this.scrollTop=u}else this.val(this.val()+n),this.focus()},surroundSelection:function(n,t){var o="",i=$(this)[0],f;if(document.selection!=undefined)this.focus(),f=document.selection.createRange(),f.text=n+f.text+t,this.focus();else if(i.selectionStart!=undefined){var r=i.selectionStart,u=i.selectionEnd,s=i.scrollTop,e=n+t;r!==u?(o=i.value.substring(r,u),i.value=i.value.substring(0,r)+n+o+t+i.value.substring(u,i.value.length)):i.value=i.value.substring(0,r)+e+i.value.substring(u,i.value.length);i.selectionStart=r+e.length;i.selectionEnd=r+e.length;i.scrollTop=s}},replaceSelection:function(n){var e="",t=$(this)[0],u;if(document.selection!=undefined)this.focus(),u=document.selection.createRange(),u.text=n,this.focus();else if(t.selectionStart!=undefined){t.focus();var i=t.selectionStart,r=t.selectionEnd,o=t.scrollTop,f=n;i!=r?(e=t.value.substring(i,r),t.value=t.value.substring(0,i)+n+t.value.substring(r,t.value.length)):t.value=t.value.substring(0,i)+f+t.value.substring(r,t.value.length);t.selectionStart=i;t.selectionEnd=i+f.length;t.scrollTop=o}},getSelection:function(){var r="",n=$(this)[0],u;if(document.selection!=undefined)this.focus(),u=document.selection.createRange(),r=u.text,u.text="",this.focus();else if(n.selectionStart!=undefined){n.focus();var t=n.selectionStart,i=n.selectionEnd,e=n.scrollTop,f="";t!=i?(r=n.value.substring(t,i),n.value=n.value.substring(0,t)+n.value.substring(i,n.value.length)):n.value=n.value.substring(0,t)+f+n.value.substring(i,n.value.length);n.selectionStart=t+f.length;n.selectionEnd=t+f.length;n.scrollTop=e}return r},selectRange:function(n,t){return t||(t=n),this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(n,t);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0);i.moveEnd("character",t);i.moveStart("character",n);i.select()}})}});