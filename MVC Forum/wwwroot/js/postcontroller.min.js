function revalidate(){var t=document.getElementById("reply-area"),n,i;t&&(n=t.getElementsByTagName("form"),i=n[n.length-1],$.validator.unobtrusive.parse(i))}(function(){"use strict";window.addEventListener("load",function(){ValidateForms();revalidate()},!1)})();$(document).on("change","#sortdir",function(){$("#defaultdays-form").submit()});$(document).on("click",".reply-del",function(){let n;confirm("Are you sure!")===!0&&(n=$(this).data("id"),$.post(SnitzVars.baseUrl+"/Topic/DeleteReply",{id:n},function(n){n.result?location.reload(!0):alert(n.error)}))});$(document).on("click",".post-del",function(n){n.preventDefault();var t=$(this).data("id"),i=$(this).attr("href");$("#confirmModal #confirm-body").html("<p>You are about to Delete this Topic.<\/p><p>Do you wish to proceed?<\/p>");$("#confirmModal").data("id",t).data("url",i).modal("show");$("#confirmModal").on("click","#btnYes",function(n){n.preventDefault();$.post(SnitzVars.baseUrl+"/Topic/DeleteTopic",{id:t},function(n){n.result?location.href=n.url:alert(n.error)})})});$(document).on("click",".lock-member",function(n){n.preventDefault();var t=$(this).data("id"),i=$(this).data("url");$("#modal-title").html("Lock Member");$("#member-modal").html("Toggle Member Status");$("#memberModal").data("id",t).modal("show");$("#memberModal #btnOk").show();$("#memberModal").one("click","#btnOk",function(n){n.preventDefault();$.post(i,{id:t},function(n){n.result?location.reload():alert(n.error)})})});$(document).on("click",".bookmark-add",function(n){n.preventDefault();var i=$(this).attr("href"),t=$(this).data("id");$("#confirmModal #confirm-body").html("<p>You are about to Bookmark this Topic.<\/p><p>Do you wish to proceed?<\/p>");$("#confirmModal").data("id",t).data("url",i).modal("show");$("#confirmModal").on("click","#btnYes",function(n){n.preventDefault();n.stopPropagation();$.post(SnitzVars.baseUrl+"/Bookmark/Create",{id:t},function(n){$("#confirmModal").modal("hide");n.result?location.reload(!0):alert(n.error)})})});$(document).on("click",".bookmark-del",function(n){n.preventDefault();var i=$(this).attr("href"),t=$(this).data("id");$("#confirmModal #confirm-body").html("<p>You are about to delete this Bookmark.<\/p><p>Do you wish to proceed?<\/p>");$("#confirmModal").data("id",t).data("url",i).modal("show");$("#confirmModal").on("click","#btnYes",function(n){n.preventDefault();$.post(SnitzVars.baseUrl+"/Bookmark/Delete",{id:t},function(n){$("#confirmModal").modal("hide");n.result?location.reload(!0):alert(n.error)})})});$(document).on("click",".post-lock",function(n){n.preventDefault();var i=$(this).attr("href"),t=$(this).data("id"),r=$(this).data("status");$("#confirmModal #confirm-body").html("<p>You are about to Lock this Topic.<\/p><p>Do you wish to proceed?<\/p>");$("#confirmModal").data("id",t).data("url",i).modal("show");$("#confirmModal").on("click","#btnYes",function(n){n.preventDefault();n.stopPropagation();$.post(SnitzVars.baseUrl+"/Topic/LockTopic",{id:t,status:r},function(n){$("#confirmModal").modal("hide");n.result?location.reload(!0):alert(n.error)})})});$(document).on("click",".reply-quote",function(){var n=$(this).data("id");location.href=SnitzVars.baseUrl+"/Topic/QuoteReply/"+n});$(document).on("click",".post-quote",function(){var n=$(this).data("id");location.href=SnitzVars.baseUrl+"/Topic/Quote/"+n});$(document).on("click",".post-reply",function(){var n=$(this).data("id");location.href=SnitzVars.baseUrl+"/Topic/Reply/"+n});$(document).on("click",".reply-edit",function(){var n=$(this).data("id");location.href=SnitzVars.baseUrl+"/Topic/EditReply/"+n});$(document).on("click",".reply-answer",function(n){n.preventDefault();var i=$(this).attr("href"),t=$(this).data("id"),r=$(this).data("status");$("#confirmModal #confirm-body").html("<p>Mark as Answer?<\/p><p>Do you wish to proceed?<\/p>");$("#confirmModal").data("id",t).data("url",i).modal("show");$("#confirmModal").on("click","#btnYes",function(n){n.preventDefault();n.stopPropagation();$.post(SnitzVars.baseUrl+"/Topic/Answered",{id:t,status:r},function(n){$("#confirmModal").modal("hide");n.result?location.reload(!0):alert(n.error)})})});$(document).on("click",".post-edit",function(){var n=$(this).data("id");location.href=SnitzVars.baseUrl+"/Topic/Edit/"+n});$.fn.extend({insertAtCaret:function(n){var t=$(this)[0];if(document.selection!==undefined)this.focus(),sel=document.selection.createRange(),sel.text=n,this.focus();else if(t.selectionStart!=undefined){var i=t.selectionStart,r=t.selectionEnd,u=t.scrollTop;t.value=t.value.substring(0,i)+n+t.value.substring(r,t.value.length);this.focus();this.selectionStart=i+n.length;this.selectionEnd=i+n.length;this.scrollTop=u}else this.val(this.val()+n),this.focus()},surroundSelection:function(n,t){var o="",i=$(this)[0],f;if(document.selection!=undefined)this.focus(),f=document.selection.createRange(),f.text=n+f.text+t,this.focus();else if(i.selectionStart!=undefined){var r=i.selectionStart,u=i.selectionEnd,s=i.scrollTop,e=n+t;r!==u?(o=i.value.substring(r,u),i.value=i.value.substring(0,r)+n+o+t+i.value.substring(u,i.value.length)):i.value=i.value.substring(0,r)+e+i.value.substring(u,i.value.length);i.selectionStart=r+e.length;i.selectionEnd=r+e.length;i.scrollTop=s}},replaceSelection:function(n){var e="",t=$(this)[0],u;if(document.selection!=undefined)this.focus(),u=document.selection.createRange(),u.text=n,this.focus();else if(t.selectionStart!=undefined){t.focus();var i=t.selectionStart,r=t.selectionEnd,o=t.scrollTop,f=n;i!=r?(e=t.value.substring(i,r),t.value=t.value.substring(0,i)+n+t.value.substring(r,t.value.length)):t.value=t.value.substring(0,i)+f+t.value.substring(r,t.value.length);t.selectionStart=i;t.selectionEnd=i+f.length;t.scrollTop=o}},getSelection:function(){var r="",n=$(this)[0],u;if(document.selection!=undefined)this.focus(),u=document.selection.createRange(),r=u.text,u.text="",this.focus();else if(n.selectionStart!=undefined){n.focus();var t=n.selectionStart,i=n.selectionEnd,e=n.scrollTop,f="";t!=i?(r=n.value.substring(t,i),n.value=n.value.substring(0,t)+n.value.substring(i,n.value.length)):n.value=n.value.substring(0,t)+f+n.value.substring(i,n.value.length);n.selectionStart=t+f.length;n.selectionEnd=t+f.length;n.scrollTop=e}return r},selectRange:function(n,t){return t||(t=n),this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(n,t);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0);i.moveEnd("character",t);i.moveStart("character",n);i.select()}})}});