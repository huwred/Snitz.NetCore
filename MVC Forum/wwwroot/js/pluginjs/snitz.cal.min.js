if($(".cal-dates").length>=1){$("#cal-recur").val()=="EveryDay"&&$("#cal-dow").show();$(document).on("change","#cal-recur",function(){$(this).val()=="EveryDay"?$("#cal-dow").show():$("#cal-dow").hide()})}$(document).on("change","#countryRegion",function(){var n=$(this).val(),t;console.log("change"+n);t=SnitzVars.baseUrl+"/Calendar/GetHolidays/";FullCalendarNew(t,"calendar","",n)});$("#change-holidays").on("change",function(){var n=$(this).val(),t;populateRegions(n);t=SnitzVars.baseUrl+"/Calendar/GetHolidays/";FullCalendar(t,"calendar","",n)});UpComingCalendar=function(n,t){var i=new Date,r=i.getDate(),u=i.getMonth()+1,f=i.getFullYear(),e=""+f+"-"+(u<=9?"0"+u:u)+"-"+(r<=9?"0"+r:r),o=document.getElementById(t),s=new FullCalendar.Calendar(o,{headerToolbar:{left:"title",center:"",right:""},initialView:"customListView",initialDate:e,locale:SnitzVars.forumlang,dayMaxEvents:!0,views:{month:{titleFormat:"DD/MM/YY"},listWeek:{buttonText:"list week"},listMonth:{buttonText:"list month"},customListView:{type:"list",duration:{weeks:5},buttonText:"Custom List"}},allDayText:"all-day",height:400,eventSources:[{url:n},{url:SnitzVars.baseUrl+"/Calendar/GetHolidays"},{url:SnitzVars.baseUrl+"/Calendar/GetBirthDays"}],loading:function(n){n?($("#calendar-list").css({visibility:"hidden"}),$("#calendar-list").css({height:"0px"}),$("#upcoming-events").show()):($("#calendar-list").css({visibility:"visible"}),$("#cal-loading").hide(),$("#calendar-list").css({height:"auto"}))}});s.render()};ClubCalendar=function(n,t,i){var f=new Date,e=f.getDate(),r=f.getMonth()+1,o=f.getFullYear(),s=52,u;i.length>1&&(s=calcWeeks(i));u="upComing";i.length>1&&(u="disContinued");u==="disContinued"&&(console.log(u),r=r-6,r<0&&(r=12+r,o=o-1));var h=""+o+"-"+(r<=9?"0"+r:r)+"-"+(e<=9?"0"+e:e),c=document.getElementById(t),l=new FullCalendar.Calendar(c,{headerToolbar:{left:"",center:"title",right:""},views:{upComing:{type:"list",duration:{months:2}},disContinued:{type:"list",duration:{months:6}}},initialView:u,initialDate:h,eventSources:[n],navLinks:!1,editable:!1});l.render();$(".my-fc-list>span").is(":empty")&&$(".my-fc-list>span").html("No Events")};calcWeeks=function(n){var t=new Date(n),i=new Date;return(i-t)/6048e5.toFixed(2)};postEvent=function(n,t){if($("#startdate").val()==="")return location.reload(t[1]),!1;$("#cal-topicid").val(t[0]);var i=$("#cal-addTopicEvent").serialize();n.preventDefault();$.ajax({type:"POST",url:SnitzVars.baseUrl+"/Calendar/SaveEvent",data:i,dataType:"json",success:function(n){if(n.success)return BootstrapDialog.alert({title:"Event Info ",message:n.responseText}),location.href=t[1],!1},error:function(n){return appendAlert(n.responseText,"warning"),location.href=t[1],!1}})};setForumEventsAuth=function(n){var t=$("#cal-forumAuth").serialize();n.preventDefault();$.ajax({type:"POST",url:SnitzVars.baseUrl+"/Calendar/SaveForum",data:t,dataType:"json",success:function(n){if(n.success)return appendAlert(n.responseText,"info"),location.reload(),!1},error:function(n){appendAlert(n,"danger")}})};FullCalendarNew=function(n,t,i,r){var u=document.getElementById("calendar"),n=SnitzVars.baseUrl+"/Calendar/GetCalendarEvents/",f=SnitzVars.baseUrl+"/Calendar/GetHolidays/"+r,e=SnitzVars.baseUrl+"/Events/GetClubCalendarEvents/-1?old=0&calendar=1",o=SnitzVars.baseUrl+"/Calendar/GetBirthDays",s=new FullCalendar.Calendar(u,{headerToolbar:{left:"prev,next today",center:"title",right:"multiMonthYear,dayGridMonth,timeGridWeek"},firstDay:i,locale:SnitzVars.forumlang,editable:!0,selectable:!0,dayMaxEvents:!0,eventSources:[{url:n},{url:e},{url:f},{url:o}]});s.render()};