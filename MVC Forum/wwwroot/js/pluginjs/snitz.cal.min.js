if($(".cal-dates").length>=1){$("#cal-recur").val()=="EveryDay"&&$("#cal-dow").show();$(document).on("change","#cal-recur",function(){$(this).val()=="EveryDay"?$("#cal-dow").show():$("#cal-dow").hide()})}UpComingCalendar=function(n,t){var i=new Date,r=i.getDate(),u=i.getMonth()+1,f=i.getFullYear(),e=""+f+"-"+(u<=9?"0"+u:u)+"-"+(r<=9?"0"+r:r),o=document.getElementById(t),s=new FullCalendar.Calendar(o,{headerToolbar:{left:"title",center:"",right:""},initialView:"customListView",initialDate:e,locale:SnitzVars.forumlang,dayMaxEvents:!0,views:{month:{titleFormat:"DD/MM/YY"},listWeek:{buttonText:"list week"},listMonth:{buttonText:"list month"},customListView:{type:"list",duration:{weeks:5},buttonText:"Custom List"}},allDayText:"all-day",height:560,eventSources:[{url:n},{url:SnitzVars.baseUrl+"/Calendar/GetHolidays"},{url:SnitzVars.baseUrl+"/Calendar/GetBirthDays"}],loading:function(n){n?($("#calendar-list").css({visibility:"hidden"}),$("#calendar-list").css({height:"0px"}),$("#upcoming-events").show()):($("#calendar-list").css({visibility:"visible"}),$("#cal-loading").hide(),$("#calendar-list").css({height:"auto"}))}});s.render()};FullCalendar=function(n,t,i,r){var u=$("#"+t).fullCalendar("getView"),f;r.length>1&&$("#"+t).fullCalendar("destroy");var e=SnitzVars.baseUrl+"/Calendar/GetHolidays/"+r,o=SnitzVars.baseUrl+"/Events/GetClubCalendarEvents/-1?old=0&calendar=1",s=SnitzVars.baseUrl+"/Calendar/GetBirthDays";$("#"+t).fullCalendar({header:{left:"basicWeek,month,year",center:"title",right:"prev,next,today"},defaultView:"year",lang:SnitzVars.forumlang,isJalaali:SnitzVars.forumlang==="fa",isRTL:SnitzVars.forumlang==="fa",firstDay:parseInt(i),dateFormat:"dd/MM/yy",timeFormat:"HH:mm",eventSources:[{url:n},{url:o},{url:e},{url:s}],eventClick:function(n){n.className[0]==="event-birthday"&&alert(n.title)}});r.length>1&&(f=$("#"+t).fullCalendar("getView"),f.name!==u.name&&$("#"+t).fullCalendar("changeView",u.name))};ClubCalendar=function(n,t,i){var o=new Date,s=o.getDay(),u=52,r,f,e;i.length>1&&(u=calcWeeks(i));r="upComing";i.length>1&&(r="disContinued");f=document.getElementById(t);e=new FullCalendar.Calendar(f,{headerToolbar:{left:"",center:"title",right:""},views:{upComing:{type:"list",duration:{weeks:52}},disContinued:{type:"list",duration:{weeks:u}}},initialView:r,firstDay:s,eventSources:[n],navLinks:!1,editable:!1});e.render();$(".my-fc-list>span").is(":empty")&&$(".my-fc-list>span").html("No Events")};calcWeeks=function(n){var t=new Date(n),i=new Date;return(i-t)/6048e5.toFixed(2)};postEvent=function(n,t){if($("#startdate").val()==="")return location.reload(t[1]),!1;$("#cal-topicid").val(t[0]);var i=$("#cal-addTopicEvent").serialize();n.preventDefault();$.ajax({type:"POST",url:SnitzVars.baseUrl+"/Calendar/SaveEvent",data:i,dataType:"json",success:function(n){if(n.success)return BootstrapDialog.alert({title:"Event Info ",message:n.responseText}),location.href=t[1],!1},error:function(n){return appendAlert(n.responseText,"warning"),location.href=t[1],!1}})};setForumEventsAuth=function(n){var t=$("#cal-forumAuth").serialize();n.preventDefault();$.ajax({type:"POST",url:SnitzVars.baseUrl+"/Calendar/SaveForum",data:t,dataType:"json",success:function(n){if(n.success)return appendAlert(n.responseText,"info"),location.reload(),!1},error:function(n){appendAlert(n,"danger")}})};FullCalendarNew=function(n,t,i,r){var e=document.getElementById("calendar"),f=document.getElementById("locale-selector"),n=SnitzVars.baseUrl+"/Calendar/GetCalendarEvents/",o=SnitzVars.baseUrl+"/Calendar/GetHolidays/"+r,s=SnitzVars.baseUrl+"/Events/GetClubCalendarEvents/-1?old=0&calendar=1",h=SnitzVars.baseUrl+"/Calendar/GetBirthDays",u=new FullCalendar.Calendar(e,{headerToolbar:{left:"prev,next today",center:"title",right:"multiMonthYear,dayGridMonth,timeGridWeek"},locale:SnitzVars.forumlang,editable:!0,selectable:!0,dayMaxEvents:!0,eventSources:[{url:n},{url:s},{url:o},{url:h}]});u.render();u.getAvailableLocaleCodes().forEach(function(n){var t=document.createElement("option");t.value=n;t.selected=n==SnitzVars.forumlang;t.innerText=n;f.appendChild(t)});f.addEventListener("change",function(){this.value&&u.setOption("locale",this.value)})};