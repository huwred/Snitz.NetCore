/*!
 * FullCalendar v2.3.0
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery","moment"],n):typeof exports=="object"?module.exports=n(require("jquery"),require("moment")):n(jQuery,moment)})(function(n,t){function gt(n){for(var t in n)if(n[t]===!0)return!0;return!1}function ni(n){var t=[];for(var i in n)typeof n[i]!="boolean"&&t.push(n[i]);return t}function eu(n){var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"};return n.toString().replace(/\d/g,function(n){return t[n]}).replace(/,/g,"،")}function ou(n,t){return t?n.replace(/j/g,""):n}function su(n,t){var i=[];for(var r in n)i.push(n[r]);return i.push(t),i}function nt(){for(var i=Array.prototype.slice.call(arguments),o={},e,t,u,f,r=0;r<it.length;r++){for(e=it[r],t=null,u=0;u<i.length;u++)f=i[u][e],n.isPlainObject(f)?t=n.extend(t||{},f):f!=null&&(t=null);t!==null&&(o[e]=t)}return i.unshift({}),i.push(o),n.extend.apply(n,i)}function hu(t){var i={views:t.views||{}},r;return n.each(t,function(t,u){t!="views"&&(n.isPlainObject(u)&&!/(time|duration|interval)$/i.test(t)&&n.inArray(t,it)==-1?(r=null,n.each(u,function(n,u){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(n)?(i.views[n]||(i.views[n]={}),i.views[n][t]=u):(r||(r={}),r[n]=u)}),r&&(i[t]=r)):i[t]=u)}),i}function rt(n,t){t.left&&n.css({"border-left-width":1,"margin-left":t.left-1});t.right&&n.css({"border-right-width":1,"margin-right":t.right-1})}function ut(n){n.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function ft(){n("body").addClass("fc-not-allowed")}function b(){n("body").removeClass("fc-not-allowed")}function et(t,i,r){var u=Math.floor(i/t.length),e=Math.floor(i-u*(t.length-1)),f=[],o=[],s=[],h=0;ot(t);t.each(function(i,r){var l=i===t.length-1?e:u,c=n(r).outerHeight(!0);c<l?(f.push(r),o.push(c),s.push(n(r).height())):h+=c});r&&(i-=h,u=Math.floor(i/f.length),e=Math.floor(i-u*(f.length-1)));n(f).each(function(t,i){var r=t===f.length-1?e:u,h=o[t],c=s[t],l=r-(h-c);h<r&&n(i).height(l)})}function ot(n){n.height("")}function st(t){var i=0;return t.find("> *").each(function(t,r){var u=n(r).outerWidth();u>i&&(i=u)}),i++,t.width(i),i}function ht(n,t){return(n.height(t).addClass("fc-scroller"),n[0].scrollHeight-1>n[0].clientHeight)?!0:(tt(n),!1)}function tt(n){n.height("").removeClass("fc-scroller")}function ki(t){var r=t.css("position"),i=t.parents().filter(function(){var t=n(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return r==="fixed"||!i.length?n(t[0].ownerDocument||document):i}function di(n){var t=n.offset();return{left:t.left,right:t.left+n.outerWidth(),top:t.top,bottom:t.top+n.outerHeight()}}function gi(n){var t=n.offset(),i=k(n),r=t.left+d(n,"border-left-width")+i.left,u=t.top+d(n,"border-top-width")+i.top;return{left:r,right:r+n[0].clientWidth,top:u,bottom:u+n[0].clientHeight}}function cu(n){var t=n.offset(),i=t.left+d(n,"border-left-width")+d(n,"padding-left"),r=t.top+d(n,"border-top-width")+d(n,"padding-top");return{left:i,right:i+n.width(),top:r,bottom:r+n.height()}}function k(n){var i=n.innerWidth()-n[0].clientWidth,t={left:0,right:0,top:0,bottom:n.innerHeight()-n[0].clientHeight};return lu()&&n.css("direction")=="rtl"?t.left=i:t.right=i,t}function lu(){return ct===null&&(ct=au()),ct}function au(){var t=n("<div><div/><\/div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),i=t.children(),r=i.offset().left>t.offset().left;return t.remove(),r}function d(n,t){return parseFloat(n.css(t))||0}function nr(n){return n.which==1&&!n.ctrlKey}function vu(n,t){var i={left:Math.max(n.left,t.left),right:Math.min(n.right,t.right),top:Math.max(n.top,t.top),bottom:Math.min(n.bottom,t.bottom)};return i.left<i.right&&i.top<i.bottom?i:!1}function yu(n,t){return{left:Math.min(Math.max(n.left,t.left),t.right),top:Math.min(Math.max(n.top,t.top),t.bottom)}}function pu(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function wu(n,t){return{left:n.left-t.left,top:n.top-t.top}}function lt(n,t){var i=n.start,r=n.end,u=t.start,f=t.end,e,o,s,h;if(r>u&&i<f)return i>=u?(e=i.clone(),s=!0):(e=u.clone(),s=!1),r<=f?(o=r.clone(),h=!0):(o=f.clone(),h=!1),{start:e,end:o,isStart:s,isEnd:h}}function tr(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days"),ms:n.time()-i.time()})}function bu(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days")})}function ir(n,i,r){return t.duration(Math.round(n.diff(i,r,!0)),r)}function ii(n,t){for(var r,u,i=0;i<at.length;i++)if(r=at[i],u=ku(r,n,t),u>=1&&er(u))break;return r}function ku(n,i,r){return r!=null?r.diff(i,n,!0):t.isDuration(i)?i.as(n):i.end.diff(i.start,n,!0)}function ri(n){return Boolean(n.hours()||n.minutes()||n.seconds()||n.milliseconds())}function du(n){return Object.prototype.toString.call(n)==="[object Date]"||n instanceof Date}function rr(n){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(n)}function vt(n){var t=function(){};return t.prototype=n,new t}function ui(n,t){for(var i in n)fr(n,i)&&(t[i]=n[i])}function gu(n,t){for(var u=["constructor","toString","valueOf"],i,r=0;r<u.length;r++)i=u[r],n[i]!==Object.prototype[i]&&(t[i]=n[i])}function fr(n,t){return ur.call(n,t)}function nf(t){return/undefined|null|boolean|number|string/.test(n.type(t))}function yt(t,i,r){if(n.isFunction(t)&&(t=[t]),t){for(var f,u=0;u<t.length;u++)f=t[u].apply(i,r)||f;return f}}function h(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n]}function r(n){return(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function fi(n){return n.replace(/&.*?;/g,"")}function pt(t){var i=[];return n.each(t,function(n,t){t!=null&&i.push(n+":"+t)}),i.join(";")}function tf(n){return n.charAt(0).toUpperCase()+n.slice(1)}function rf(n,t){return n-t}function er(n){return n%1==0}function a(n,t){var i=n[t];return function(){return i.apply(n,arguments)}}function ei(n,t){var i,r,u,f,e=function(){var o=+new Date-f;o<t&&o>0?i=setTimeout(e,t-o):(i=null,n.apply(u,r),i||(u=r=null))};return function(){u=this;r=arguments;f=+new Date;i||(i=setTimeout(e,t))}}function hi(i,r,u){var l=gt(i),f,h,o,s,c,e;return i=ni(i),f=i[0],h=i.length==1&&typeof f=="string",t.isMoment(f)?(e=t.apply(null,i),sr(f,e)):du(f)||f===undefined?e=t.apply(null,i):(o=!1,s=!1,h?uf.test(f)?(f+="-01",i=[f],o=!0,s=!0):(c=ff.exec(f))&&(o=!c[5],s=!0):n.isArray(f)&&(s=!0),e=r||o?t.utc.apply(t,i):t.apply(null,i),o?(e._ambigTime=!0,e._ambigZone=!0):u&&(s?e._ambigZone=!0:h&&(e.utcOffset?e.utcOffset(f):e.zone(f)))),e._fullCalendar=!0,l&&t.loadPersian(),e}function ci(n,r){for(var o=!1,s=!1,h=n.length,e=[],u,f=0;f<h;f++)u=n[f],t.isMoment(u)||(u=i.moment.parseZone(u)),o=o||u._ambigTime,s=s||u._ambigZone,e.push(u);for(f=0;f<h;f++)u=e[f],r||!o||u._ambigTime?s&&!u._ambigZone&&(e[f]=u.clone().stripZone()):e[f]=u.clone().stripTime();return e}function sr(n,t){n._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1);n._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function hr(n,t){n.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function wt(n,t){return t&&(n=n.replace(/(.*)(\bYY\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bYYYY\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bYYYYY\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bM\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bMM\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bMMM\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bMMMM\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bMMMMM\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bD\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bDD\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bDDD\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bDDDD\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bgg\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bgggg\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bggggg\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\byear\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bmonth\b)(.*)/g,"$1j$2$3"),n=n.replace(/(.*)(\bw\b)(.*)/g,"$1j$2$3"),n.match(/^j.*/g)||(n="j"+n)),n}function y(n,t,i){return f.format.call(n,wt(t,i)).replace(/j/g,"")}function ef(n,t,i){return cr(n,yr(t,i),i)}function cr(n,t,i){for(var u="",r=0;r<t.length;r++)u+=ai(n,t[r],i);return u}function ai(n,t,i){var r,u;return typeof t=="string"?t:(r=t.token)?li[r]?li[r](n,i):y(n,r,i):t.maybe&&(u=cr(n,t.maybe,i),u.match(/[1-9]/))?u:""}function lr(n,t,r,u,f,e){var o;return n=i.moment.parseZone(n),t=i.moment.parseZone(t),o=(n.localeData||n.lang).call(n),r=o.longDateFormat(r)||r,u=u||" - ",sf(n,t,yr(r,e),u,f,e)}function sf(n,t,i,r,u,f){for(var v=n.clone().stripZone(),y=t.clone().stripZone(),e,p="",s,a="",h,c="",l="",w="",o=0;o<i.length;o++){if(e=vr(n,t,v,y,i[o],f),e===!1)break;p+=e}for(s=i.length-1;s>o;s--){if(e=vr(n,t,v,y,i[s],f),e===!1)break;a=e+a}for(h=o;h<=s;h++)c+=ai(n,i[h],f),l+=ai(t,i[h],f);return(c||l)&&(w=u?l+r+c:c+r+l),p+w+a}function vr(n,t,i,r,u,f){var e,o;return typeof u=="string"?u:(e=u.token)&&(o=ar[e.charAt(0)],o&&i.isSame(r,wt(o,f)))?y(n,e,f):!1}function yr(n,t){return(n=ou(n,t),n in bt)?bt[n]:bt[n]=pr(n)}function pr(n){for(var i=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g,t;t=r.exec(n);)t[1]?i.push(t[1]):t[2]?i.push({maybe:pr(t[2])}):t[3]?i.push({token:t[3]}):t[5]&&i.push(t[5]);return i}function c(){}function wr(n,t){return!n&&!t?!0:n&&t?n.grid===t.grid&&n.row===t.row&&n.col===t.col:!1}function vf(n){var t=kr(n);return t==="background"||t==="inverse-background"}function yf(n){return kr(n)==="inverse-background"}function kr(n){return h((n.source||{}).rendering,n.rendering)}function pf(n){for(var r={},i,t=0;t<n.length;t++)i=n[t],(r[i._id]||(r[i._id]=[])).push(i);return r}function wf(n,t){return n.eventStartMS-t.eventStartMS}function g(n,t){return n.eventStartMS-t.eventStartMS||t.eventDurationMS-n.eventDurationMS||t.event.allDay-n.event.allDay||(n.event.title||"").localeCompare(t.event.title)}function bf(r){var e=i.dataAttrPrefix,u,f,o,s;return e&&(e+="-"),u=r.data(e+"event")||null,u&&(u=typeof u=="object"?n.extend({},u):{},f=u.start,f==null&&(f=u.time),o=u.duration,s=u.stick,delete u.start,delete u.time,delete u.duration,delete u.stick),f==null&&(f=r.data(e+"start")),f==null&&(f=r.data(e+"time")),o==null&&(o=r.data(e+"duration")),s==null&&(s=r.data(e+"stick")),f=f!=null?t.duration(f):null,o=o!=null?t.duration(o):null,s=Boolean(s),{eventProps:u,startTime:f,duration:o,stick:s}}function kf(n,t){for(var r,i=0;i<t.length;i++)if(r=t[i],r.leftCol<=n.rightCol&&r.rightCol>=n.leftCol)return!0;return!1}function df(n,t){return n.leftCol-t.leftCol}function gf(n){var r,i,t;if(n.sort(g),r=ne(n),te(r),i=r[0]){for(t=0;t<i.length;t++)gr(i[t]);for(t=0;t<i.length;t++)yi(i[t],0,0)}}function ne(n){for(var i=[],u,t,r=0;r<n.length;r++){for(u=n[r],t=0;t<i.length;t++)if(!nu(u,i[t]).length)break;u.level=t;(i[t]||(i[t]=[])).push(u)}return i}function te(n){for(var f,i,r,u,t=0;t<n.length;t++)for(f=n[t],i=0;i<f.length;i++)for(r=f[i],r.forwardSegs=[],u=t+1;u<n.length;u++)nu(r,n[u],r.forwardSegs)}function gr(n){var u=n.forwardSegs,i=0,t,r;if(n.forwardPressure===undefined){for(t=0;t<u.length;t++)r=u[t],gr(r),i=Math.max(i,1+r.forwardPressure);n.forwardPressure=i}}function yi(n,t,i){var r=n.forwardSegs,u;if(n.forwardCoord===undefined)for(r.length?(r.sort(re),yi(r[0],t+1,i),n.forwardCoord=r[0].backwardCoord):n.forwardCoord=1,n.backwardCoord=n.forwardCoord-(n.forwardCoord-i)/(t+1),u=0;u<r.length;u++)yi(r[u],0,n.forwardCoord)}function nu(n,t,i){i=i||[];for(var r=0;r<t.length;r++)ie(n,t[r])&&i.push(t[r]);return i}function ie(n,t){return n.bottom>t.top&&n.top<t.bottom}function re(n,t){return t.forwardPressure-n.forwardPressure||(n.backwardCoord||0)-(t.backwardCoord||0)||g(n,t)}function ue(r,u){function lt(){a?w()&&(ft(),h()):at()}function at(){ct=e.theme?"ui":"fc";r.addClass("fc");e.isRTL?r.addClass("fc-rtl"):r.addClass("fc-ltr");e.theme?r.addClass("ui-widget"):r.addClass("fc-unthemed");a=n("<div class='fc-view-container'/>").prependTo(r);l=f.header=new se(f,e);v=l.render();v&&r.prepend(v);h(e.defaultView);e.handleWindowResize&&(b=ei(pt,e.windowResizeDelay),n(window).resize(b))}function yt(){o&&o.removeElement();l.destroy();a.remove();r.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");b&&n(window).unbind("resize",b)}function w(){return r.is(":visible")}function h(t){p++;o&&t&&o.type!==t&&(l.deactivateButton(o.type),d(),o.removeElement(),o=f.view=null);!o&&t&&(o=f.view=it[t]||(it[t]=f.instantiateView(t)),o.setElement(n("<div class='fc-view fc-"+t+"-view' />").appendTo(a)),l.activateButton(t));o&&(s=o.massageCurrentDate(s),o.isDisplayed&&s.isWithin(o.intervalStart,o.intervalEnd)||w()&&(d(),o.display(s),g(),ni(),ti(),kt()));g();p--}function ut(n){if(w())return n&&et(),p++,o.updateSize(!0),p--,!0}function ft(){w()&&et()}function et(){y=typeof e.contentHeight=="number"?e.contentHeight:typeof e.height=="number"?e.height-(v?v.outerHeight(!0):0):Math.round(a.width()/Math.max(e.aspectRatio,.5))}function pt(n){!p&&n.target===window&&o.start&&ut(!0)&&o.trigger("windowResize",tt)}function wt(){bt();ot()}function k(){w()&&(d(),o.displayEvents(rt),g())}function bt(){d();o.clearEvents();g()}function kt(){!e.lazyFetching||st(o.start,o.end)?ot():k()}function ot(){ht(o.start,o.end)}function dt(n){rt=n;k()}function gt(){k()}function ni(){l.updateTitle(o.title)}function ti(){var n=f.getNow();n.isWithin(o.intervalStart,o.intervalEnd)?l.disableButton("today"):l.enableButton("today")}function ii(n,t){n=f.moment(n);t=t?f.moment(t):n.hasTime()?n.clone().add(f.defaultTimedEventDuration):n.clone().add(f.defaultAllDayEventDuration);o.select({start:n,end:t})}function ri(){o&&o.unselect()}function ui(){s=o.computePrevDate(s);h()}function fi(){s=o.computeNextDate(s);h()}function oi(){s.add(-1,"years");h()}function si(){s.add(1,"years");h()}function hi(){s=f.getNow();h()}function ci(n){s=f.moment(n);h()}function li(n){s.add(t.duration(n));h()}function ai(n,t){var i;t=t||"day";i=f.getViewSpec(t)||f.getUnitViewSpec(t);s=n;h(i?i.type:null)}function vi(){return s.clone()}function d(){a.css({width:"100%",height:a.height(),overflow:"hidden"})}function g(){a.css({width:"",height:"",overflow:""})}function yi(){return f}function pi(){return o}function wi(n,t){if(t===undefined)return e[n];(n=="height"||n=="contentHeight"||n=="aspectRatio")&&(e[n]=t,ut(!0))}function bi(n,t){if(e[n])return e[n].apply(t||tt,Array.prototype.slice.call(arguments,2))}var f=this,e,c,nt;f.initOptions(u||{});e=this.options;f.render=lt;f.destroy=yt;f.refetchEvents=wt;f.reportEvents=dt;f.reportEventChange=gt;f.rerenderEvents=k;f.changeView=h;f.select=ii;f.unselect=ri;f.prev=ui;f.next=fi;f.prevYear=oi;f.nextYear=si;f.today=hi;f.gotoDate=ci;f.incrementDate=li;f.zoomTo=ai;f.getDate=vi;f.getCalendar=yi;f.getView=pi;f.option=wi;f.trigger=bi;c=vt(iu(e.lang));e.monthNames&&(c._months=e.monthNames);e.monthNamesShort&&(c._monthsShort=e.monthNamesShort);e.dayNames&&(c._weekdays=e.dayNames);e.dayNamesShort&&(c._weekdaysShort=e.dayNamesShort);e.firstDay!=null&&(nt=vt(c._week),nt.dow=e.firstDay,c._week=nt);c._fullCalendar_weekCalc=function(n){return typeof n=="function"?n:n==="local"?n:n==="iso"||n==="ISO"?"ISO":void 0}(e.weekNumberCalculation);f.defaultAllDayEventDuration=t.duration(e.defaultAllDayEventDuration);f.defaultTimedEventDuration=t.duration(e.defaultTimedEventDuration);f.moment=function(){var n;return arguments=su(arguments,e.isJalaali),e.timezone==="local"?(n=i.moment.apply(null,arguments),n.hasTime()&&n.local()):n=e.timezone==="UTC"?i.moment.utc.apply(null,arguments):i.moment.parseZone.apply(null,arguments),"_locale"in n?n._locale=c:n._lang=c,n};f.getIsAmbigTimezone=function(){return e.timezone!=="local"&&e.timezone!=="UTC"};f.rezoneDate=function(n){return f.moment(n.toArray())};f.getNow=function(){var n=e.now;return typeof n=="function"&&(n=n()),f.moment(n)};f.getEventEnd=function(n){return n.end?n.end.clone():f.getDefaultEventEnd(n.allDay,n.start)};f.getDefaultEventEnd=function(n,t){var i=t.clone();return n?i.stripTime().add(f.defaultAllDayEventDuration):i.add(f.defaultTimedEventDuration),f.getIsAmbigTimezone()&&i.stripZone(),i};f.humanizeDuration=function(n){return(n.locale||n.lang).call(n,e.lang).humanize()};he.call(f,e);var st=f.isFetchNeeded,ht=f.fetchEvents,tt=r[0],l,v,a,ct,o,it={},y,b,p=0,s,rt=[];s=e.defaultDate!=null?f.moment(e.defaultDate):f.getNow();f.getSuggestedViewHeight=function(){return y===undefined&&ft(),y};f.isHeightAuto=function(){return e.contentHeight==="auto"||e.height==="auto"}}function tu(t){n.each(oe,function(n,i){t[n]==null&&(t[n]=i(t))})}function iu(n){var i=t.localeData||t.langData;return i.call(t,n)||i.call(t,"en")}function se(t,i){function h(){var t=i.header;return u=i.theme?"ui":"fc",t?f=n("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>'):void 0}function c(){f.remove()}function s(f){var e=n('<div class="fc-'+f+'"/>'),s=i.header[f];return s&&n.each(s.split(" "),function(){var f=n(),h=!0,s;n.each(this.split(","),function(e,s){var l,a,v,y,p,w,b,k,c;s=="title"?(f=f.add(n("<h5>&nbsp;<\/h5>")),h=!1):(l=t.getViewSpec(s),l?(a=function(){t.changeView(s)},o.push(s),v=l.buttonTextOverride,y=l.buttonTextDefault):t[s]&&(a=function(){t[s]()},v=(t.overrides.buttonText||{})[s],y=i.buttonText[s]),a&&(p=i.themeButtonIcons[s],w=i.buttonIcons[s],b=v?r(v):p&&i.theme?"<span class='ui-icon ui-icon-"+p+"'><\/span>":w&&!i.theme?"<span class='fc-icon fc-icon-"+w+"'><\/span>":r(y),k=["fc-"+s+"-button",u+"-button",u+"-state-default"],c=n('<button type="button" class="'+k.join(" ")+'">'+b+"<\/button>").click(function(){c.hasClass(u+"-state-disabled")||(a(),(c.hasClass(u+"-state-active")||c.hasClass(u+"-state-disabled"))&&c.removeClass(u+"-state-hover"))}).mousedown(function(){c.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-down")}).mouseup(function(){c.removeClass(u+"-state-down")}).hover(function(){c.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-hover")},function(){c.removeClass(u+"-state-hover").removeClass(u+"-state-down")}),f=f.add(c)))});h&&f.first().addClass(u+"-corner-left").end().last().addClass(u+"-corner-right").end();f.length>1?(s=n("<div/>"),h&&s.addClass("fc-button-group"),s.append(f),e.append(s)):e.append(f)}),e}function l(n){f.find("h5").text(n)}function a(n){f.find(".fc-"+n+"-button").addClass(u+"-state-active")}function v(n){f.find(".fc-"+n+"-button").removeClass(u+"-state-active")}function y(n){f.find(".fc-"+n+"-button").attr("disabled","disabled").addClass(u+"-state-disabled")}function p(n){f.find(".fc-"+n+"-button").removeAttr("disabled").removeClass(u+"-state-disabled")}function w(){return o}var e=this,f,o,u;e.render=h;e.destroy=c;e.updateTitle=l;e.activateButton=a;e.deactivateButton=v;e.disableButton=y;e.enableButton=p;e.getViewsWithButtons=w;f=n();o=[]}function he(r){function bt(n,t){return!o||n.clone().stripZone()<o.clone().stripZone()||t.clone().stripZone()>s.clone().stripZone()}function kt(n,t){var u,r,i;for(o=n,s=t,f=[],u=++w,r=e.length,y=r,i=0;i<r;i++)tt(e[i],u)}function tt(t,i){it(t,function(r){var s=n.isArray(t.events),u,e,o;if(i==w){if(r)for(u=0;u<r.length;u++)e=r[u],o=s?e:c(e,t),o&&f.push.apply(f,v(o));y--;y||l(f)}})}function it(t,f){for(var v=i.sourceFetchers,l,e,y,c=0;c<v.length;c++){if(l=v[c].call(u,t,o.clone(),s.clone(),r.timezone,f),l===!0)return;if(typeof l=="object"){it(l,f);return}}if(e=t.events,e)n.isFunction(e)?(ot(),e.call(u,o.clone(),s.clone(),r.timezone,function(n){f(n);st()})):n.isArray(e)?f(e):f();else if(y=t.url,y){var b=t.success,k=t.error,d=t.complete,g=n.isFunction(t.data)?t.data():t.data;var a=n.extend({},g||{}),p=h(t.startParam,r.startParam),w=h(t.endParam,r.endParam),nt=h(t.timezoneParam,r.timezoneParam);p&&(a[p]=o.format());w&&(a[w]=s.format());r.timezone&&r.timezone!="local"&&(a[nt]=r.timezone);ot();n.ajax(n.extend({},ru,t,{data:a,success:function(t){t=t||[];var i=yt(b,this,arguments);n.isArray(i)&&(t=i);f(t)},error:function(){yt(k,this,arguments);f()},complete:function(){yt(d,this,arguments);st()}}))}else f()}function dt(n){var t=rt(n);t&&(e.push(t),y++,tt(t,w))}function rt(t){var e=i.sourceNormalizers,r,f;if(n.isFunction(t)||n.isArray(t)?r={events:t}:typeof t=="string"?r={url:t}:typeof t=="object"&&(r=n.extend({},t)),r){for(r.className?typeof r.className=="string"&&(r.className=r.className.split(/\s+/)):r.className=[],n.isArray(r.events)&&(r.origArray=r.events,r.events=n.map(r.events,function(n){return c(n,r)})),f=0;f<e.length;f++)e[f].call(u,r);return r}}function gt(t){e=n.grep(e,function(n){return!ut(n,t)});f=n.grep(f,function(n){return!ut(n.source,t)});l(f)}function ut(n,t){return n&&t&&ft(n)==ft(t)}function ft(n){return(typeof n=="object"?n.origArray||n.googleCalendarId||n.url||n.events:null)||n}function ni(n){n.start=u.moment(n.start);n.end=n.end?u.moment(n.end):null;lt(n,ti(n));l(f)}function ti(t){var i={};return n.each(t,function(n,t){et(n)&&t!==undefined&&nf(t)&&(i[n]=t)}),i}function et(n){return!/^_|^(id|allDay|start|end)$/.test(n)}function ii(n,t){var e=c(n),r,u,i;if(e){for(r=v(e),u=0;u<r.length;u++)i=r[u],i.source||(t&&(p.events.push(i),i.source=p),f.push(i));return l(f),r}return[]}function ri(t){var r,i;for(t==null?t=function(){return!0}:n.isFunction(t)||(r=t+"",t=function(n){return n._id==r}),f=n.grep(f,t,!0),i=0;i<e.length;i++)n.isArray(e[i].events)&&(e[i].events=n.grep(e[i].events,t,!0));l(f)}function b(t){return n.isFunction(t)?n.grep(f,t):t!=null?(t+="",n.grep(f,function(n){return n._id==t})):f}function ot(){nt++||d("loading",null,!0,g())}function st(){--nt||d("loading",null,!1,g())}function c(i,f){var s={},l,e,o,c;if(r.eventDataTransform&&(i=r.eventDataTransform(i)),f&&f.eventDataTransform&&(i=f.eventDataTransform(i)),n.extend(s,i),f&&(s.source=f),s._id=i._id||(i.id===undefined?"_fc"+uu++:i.id+""),s.className=i.className?typeof i.className=="string"?i.className.split(/\s+/):i.className:[],e=i.start||i.date,o=i.end,l=e,rr(e)&&(e=t.duration(e)),rr(o)&&(o=t.duration(o)),i.dow||t.isDuration(e)||t.isDuration(o))s.start=e?t.duration(e):null,s.end=o?t.duration(o):null,s._recurring=!0;else{if(e&&(e=u.moment(e),!e.isValid()))return!1;o&&(o=u.moment(o),o.isValid()||(o=null));c=i.allDay;c===undefined&&(c=h(f?f.allDayDefault:undefined,r.allDayDefault));l=e;ht(e,o,c,s)}return s._lastdate=l,s}function ht(n,t,i,r){r.start=n;r.end=t;r.allDay=i;a(r);pi(r)}function a(n){ct(n);n.end&&!n.end.isAfter(n.start)&&(n.end=null);n.end||(n.end=r.forceEventDuration?u.getDefaultEventEnd(n.allDay,n.start):null)}function ct(n){n.allDay==null&&(n.allDay=!(n.start.hasTime()||n.end&&n.end.hasTime()));n.allDay?(n.start.stripTime(),n.end&&n.end.stripTime()):(n.start.hasTime()||(n.start=u.rezoneDate(n.start)),n.end&&!n.end.hasTime()&&(n.end=u.rezoneDate(n.end)))}function k(t){var i;return t.end||(i=t.allDay,i==null&&(i=!t.start.hasTime()),t=n.extend({},t),t.end=u.getDefaultEventEnd(i,t.start)),t}function v(t,i,r){var a=[],f,v,e,u,h,c,l,y,p;if(i=i||o,r=r||s,t)if(t._recurring){if(v=t.dow)for(f={},e=0;e<v.length;e++)f[v[e]]=!0;for(u=i.clone().stripTime();u.isBefore(r);)(!f||f[u.day()])&&(h=t.start,c=t.end,l=u.clone(),y=null,h&&(l=l.time(h)),c&&(y=u.clone().time(c)),p=n.extend({},t),ht(l,y,!h&&!c,p),a.push(p)),u.add(1,"days")}else a.push(t);return a}function lt(t,i,r){function v(n,t){return r?ir(n,t,r):i.allDay?bu(n,t):tr(n,t)}var s={},f,h,e,c,o,l;return i=i||{},i.start||(i.start=t.start.clone()),i.end===undefined&&(i.end=t.end?t.end.clone():null),i.allDay==null&&(i.allDay=t.allDay),a(i),f={start:t._start.clone(),end:t._end?t._end.clone():u.getDefaultEventEnd(t._allDay,t._start),allDay:i.allDay},a(f),h=t._end!==null&&i.end===null,e=v(i.start,f.start),i.end?(c=v(i.end,f.end),o=c.subtract(e)):o=null,n.each(i,function(n,t){et(n)&&t!==undefined&&(s[n]=t)}),l=ui(b(t._id),h,i.allDay,e,o,s),{dateDelta:e,durationDelta:o,undo:l}}function ui(t,i,r,f,e,o){var h=u.getIsAmbigTimezone(),s=[];return f&&!f.valueOf()&&(f=null),e&&!e.valueOf()&&(e=null),n.each(t,function(t,c){var v,l;v={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay};n.each(o,function(n){v[n]=c[n]});l={start:c._start,end:c._end,allDay:r};a(l);i?l.end=null:e&&!l.end&&(l.end=u.getDefaultEventEnd(l.allDay,l.start));f&&(l.start.add(f),l.end&&l.end.add(f));e&&l.end.add(e);h&&!l.allDay&&(f||e)&&(l.start.stripZone(),l.end&&l.end.stripZone());n.extend(c,o,l);pi(c);s.push(function(){n.extend(c,v);pi(c)})}),function(){for(var n=0;n<s.length;n++)s[n]()}}function at(t){var f=r.businessHours,e=u.getView(),i;return(f&&(i=n.extend({},{className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},typeof f=="object"?f:{})),i)?(t&&(i.start=null,i.end=null),v(c(i),e.start,e.end)):[]}function vt(n,t){var i=t.source||{},u=h(t.constraint,i.constraint,r.eventConstraint),f=h(t.overlap,i.overlap,r.eventOverlap);return n=k(n),wt(n,u,f,t)}function pt(n){return wt(n,r.selectConstraint,r.selectOverlap)}function fi(t,i){var u,r;return i&&(u=n.extend({},i,t),r=v(c(u))[0]),r?vt(t,r):(t=k(t),pt(t))}function wt(t,i,r,f){var c,l,a,e,o,s;if(t=n.extend({},t),t.start=t.start.clone().stripZone(),t.end=t.end.clone().stripZone(),i!=null){for(c=ei(i),l=!1,e=0;e<c.length;e++)if(oi(c[e],t)){l=!0;break}if(!l)return!1}for(a=u.getPeerEvents(f,t),e=0;e<a.length;e++)if(o=a[e],si(o,t)&&(r===!1||typeof r=="function"&&!r(o,f)||f&&((s=h(o.overlap,(o.source||{}).overlap),s===!1)||typeof s=="function"&&!s(f,o))))return!1;return!0}function ei(n){return n==="businessHours"?at():typeof n=="object"?v(c(n)):b(n)}function oi(n,t){var i=n.start.clone().stripZone(),r=u.getEventEnd(n).stripZone();return t.start>=i&&t.end<=r}function si(n,t){var i=n.start.clone().stripZone(),r=u.getEventEnd(n).stripZone();return t.start<r&&t.end>i}var u=this;u.isFetchNeeded=bt;u.fetchEvents=kt;u.addEventSource=dt;u.removeEventSource=gt;u.updateEvent=ni;u.renderEvent=ii;u.removeEvents=ri;u.clientEvents=b;u.mutateEvent=lt;u.normalizeEventRange=a;u.normalizeEventRangeTimes=ct;u.ensureVisibleEventRange=k;var d=u.trigger,g=u.getView,l=u.reportEvents,p={events:[]},e=[p],o,s,w=0,y=0,nt=0,f=[];n.each((r.events?[r.events]:[]).concat(r.eventSources||[]),function(n,t){var i=rt(t);i&&e.push(i)});u.getBusinessHoursEvents=at;u.isEventRangeAllowed=vt;u.isSelectionRangeAllowed=pt;u.isExternalDropRangeAllowed=fi;u.getEventCache=function(){return f}}function pi(n){n._allDay=n.allDay;n._start=n.start.clone();n._end=n.end?n.end.clone():null}var i=n.fullCalendar={version:"2.3.0"},e=i.views={},it,ct,ti,at,ur,li,ar,bt,v,dr,vi,o,s,w,ru,uu,dt,wi,bi,fu,ae;n.fn.fullCalendar=function(t){var u=Array.prototype.slice.call(arguments,1),r=this;return this.each(function(f,e){var s=n(e),o=s.data("fullCalendar"),h;typeof t=="string"?o&&n.isFunction(o[t])&&(h=o[t].apply(o,u),f||(r=h),t==="destroy"&&s.removeData("fullCalendar")):o||(o=new i.CalendarBase(s,t),s.data("fullCalendar",o),o.render())}),r};it=["header","buttonText","buttonIcons","themeButtonIcons"];i.intersectionToSeg=lt;i.applyAll=yt;i.debounce=ei;i.isInt=er;i.htmlEscape=r;i.cssToStr=pt;i.proxy=a;i.getClientRect=gi;i.getContentRect=cu;i.getScrollbarWidths=k;ct=null;i.computeIntervalUnit=ii;i.durationHasTime=ri;ti=["sun","mon","tue","wed","thu","fri","sat"];at=["year","month","week","day","hour","minute","second","millisecond"];ur={}.hasOwnProperty;var uf=/^\s*\d{4}-\d\d$/,ff=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,u=t.fn,f=n.extend({},u),oi,si,or;i.moment=function(){return hi(arguments)};i.moment.utc=function(){var n=hi(arguments,!0);return n.hasTime()&&n.utc(),n};i.moment.parseZone=function(){return hi(arguments,!0,!0)};u.clone=function(){var n=f.clone.apply(this,arguments);return sr(this,n),this._fullCalendar&&(n._fullCalendar=!0),n};u.week=u.weeks=function(n){var t=(this._locale||this._lang)._fullCalendar_weekCalc;return n==null&&typeof t=="function"?t(this):t==="ISO"?f.isoWeek.apply(this,arguments):f.week.apply(this,arguments)};u.time=function(n){if(!this._fullCalendar)return f.time.apply(this,arguments);if(n==null)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1;t.isDuration(n)||t.isMoment(n)||(n=t.duration(n));var i=0;return t.isDuration(n)&&(i=Math.floor(n.asDays())*24),this.hours(i+n.hours()).minutes(n.minutes()).seconds(n.seconds()).milliseconds(n.milliseconds())};u.stripTime=function(){var n;return this._ambigTime||(n=this.toArray(),this.utc(),si(this,n.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this};u.hasTime=function(){return!this._ambigTime};u.stripZone=function(){var n,t;return this._ambigZone||(n=this.toArray(),t=this._ambigTime,this.utc(),si(this,n),this._ambigTime=t||!1,this._ambigZone=!0),this};u.hasZone=function(){return!this._ambigZone};u.local=function(){var n=this.toArray(),t=this._ambigZone;return f.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&or(this,n),this};u.utc=function(){return f.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this};n.each(["zone","utcOffset"],function(n,t){f[t]&&(u[t]=function(n){return n!=null&&(this._ambigTime=!1,this._ambigZone=!1),f[t].apply(this,arguments)})});u.format=function(){var n=gt(arguments);return(arguments=ni(arguments),this._fullCalendar&&arguments[0])?ef(this,arguments[0],n):this._ambigTime?y(this,n?"YYYY-M-D":"YYYY-MM-DD",n):this._ambigZone?y(this,n?"YYYY-M-D[T]HH:mm:ss":"YYYY-MM-DD[T]HH:mm:ss",n):f.format.apply(this,arguments)};u.toISOString=function(){return(isJalaali=gt(arguments),arguments=ni(arguments),this._ambigTime)?y(this,isJalaali?"YYYY-M-D":"YYYY-MM-DD",isJalaali):this._ambigZone?y(this,isJalaali?"YYYY-M-D[T]HH:mm:ss":"YYYY-MM-DD[T]HH:mm:ss",isJalaali):f.toISOString.apply(this,arguments)};u.isWithin=function(n,t){var i=ci([this,n,t]);return i[0]>=i[1]&&i[0]<i[2]};u.isSame=function(n,t){var r;return this._fullCalendar?t?(r=ci([this,n],!0),f.isSame.call(r[0],r[1],t)):(n=i.moment.parseZone(n),f.isSame.call(this,n)&&Boolean(this._ambigTime)===Boolean(n._ambigTime)&&Boolean(this._ambigZone)===Boolean(n._ambigZone)):f.isSame.apply(this,arguments)};n.each(["isBefore","isAfter"],function(n,t){u[t]=function(n,i){var r;return this._fullCalendar?(r=ci([this,n]),f[t].call(r[0],r[1],i)):f[t].apply(this,arguments)}});oi="_d"in t()&&"updateOffset"in t;si=oi?function(n,i){n._d.setTime(Date.UTC.apply(Date,i));t.updateOffset(n,!1)}:hr;or=oi?function(n,i){n._d.setTime(+new Date(i[0]||0,i[1]||0,i[2]||0,i[3]||0,i[4]||0,i[5]||0,i[6]||0));t.updateOffset(n,!1)}:hr;li={t:function(n,t){return y(n,"a",t).charAt(0)},T:function(n,t){return y(n,"A",t).charAt(0)}};i.formatRange=lr;ar={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};bt={};i.Class=c;c.extend=function(n){var i=this,t;return n=n||{},fr(n,"constructor")&&(t=n.constructor),typeof t!="function"&&(t=n.constructor=function(){i.apply(this,arguments)}),t.prototype=vt(i.prototype),ui(n,t.prototype),gu(n,t.prototype),ui(i,t),t};c.mixin=function(n){ui(n.prototype||n,this.prototype)};var hf=c.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(n){this.options=n||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var i=this,t=this.options;this.el=n('<div class="fc-popover"/>').addClass(t.className||"").css({top:0,left:0}).append(t.content).appendTo(t.parentEl);this.el.on("click",".fc-close",function(){i.hide()});if(t.autoHide)n(document).on("mousedown",this.documentMousedownProxy=a(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!n(t.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide();this.el&&(this.el.remove(),this.el=null);n(document).off("mousedown",this.documentMousedownProxy)},position:function(){var t=this.options,h=this.el.offsetParent().offset(),c=this.el.outerWidth(),l=this.el.outerHeight(),o=n(window),i=ki(this.el),f,e,s,r,u;r=t.top||0;u=t.left!==undefined?t.left:t.right!==undefined?t.right-c:0;i.is(window)||i.is(document)?(i=o,f=0,e=0):(s=i.offset(),f=s.top,e=s.left);f+=o.scrollTop();e+=o.scrollLeft();t.viewportConstrain!==!1&&(r=Math.min(r,f+i.outerHeight()-l-this.margin),r=Math.max(r,f+this.margin),u=Math.min(u,e+i.outerWidth()-c-this.margin),u=Math.max(u,e+this.margin));this.el.css({top:r-h.top,left:u-h.left})},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))}}),cf=c.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(n){this.grid=n},build:function(){this.rowCoords=this.grid.computeRowCoords();this.colCoords=this.grid.computeColCoords();this.computeBounds()},clear:function(){this.rowCoords=null;this.colCoords=null},getCell:function(t,i){var s=this.rowCoords,c=s.length,h=this.colCoords,l=h.length,f=null,e=null,r,u,o;if(this.inBounds(t,i)){for(r=0;r<c;r++)if(u=s[r],i>=u.top&&i<u.bottom){f=r;break}for(r=0;r<l;r++)if(u=h[r],t>=u.left&&t<u.right){e=r;break}if(f!==null&&e!==null)return o=this.grid.getCell(f,e),o.grid=this.grid,n.extend(o,s[f],h[e]),o}return null},computeBounds:function(){this.bounds=this.containerEl?gi(this.containerEl):null},inBounds:function(n,t){var i=this.bounds;return i?n>=i.left&&n<i.right&&t>=i.top&&t<i.bottom:!0}}),lf=c.extend({coordMaps:null,constructor:function(n){this.coordMaps=n},build:function(){for(var t=this.coordMaps,n=0;n<t.length;n++)t[n].build()},getCell:function(n,t){for(var u=this.coordMaps,r=null,i=0;i<u.length&&!r;i++)r=u[i].getCell(n,t);return r},clear:function(){for(var t=this.coordMaps,n=0;n<t.length;n++)t[n].clear()}}),p=i.DragListener=c.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(n){n=n||{};this.options=n;this.subjectEl=n.subjectEl},mousedown:function(n){nr(n)&&(n.preventDefault(),this.startListening(n),this.options.distance||this.startDrag(n))},startListening:function(t){var i;if(!this.isListening){if(t&&this.options.scroll&&(i=ki(n(t.target)),!i.is(window)&&!i.is(document))){this.scrollEl=i;this.scrollHandlerProxy=ei(a(this,"scrollHandler"),100);this.scrollEl.on("scroll",this.scrollHandlerProxy)}n(document).on("mousemove",this.mousemoveProxy=a(this,"mousemove")).on("mouseup",this.mouseupProxy=a(this,"mouseup")).on("selectstart",this.preventDefault);t?(this.originX=t.pageX,this.originY=t.pageY):(this.originX=0,this.originY=0);this.isListening=!0;this.listenStart(t)}},listenStart:function(n){this.trigger("listenStart",n)},mousemove:function(n){var t=n.pageX-this.originX,i=n.pageY-this.originY,r,u;this.isDragging||(r=this.options.distance||1,u=t*t+i*i,u>=r*r&&this.startDrag(n));this.isDragging&&this.drag(t,i,n)},startDrag:function(n){this.isListening||this.startListening();this.isDragging||(this.isDragging=!0,this.dragStart(n))},dragStart:function(n){var t=this.subjectEl;this.trigger("dragStart",n);(this.subjectHref=t?t.attr("href"):null)&&t.removeAttr("href")},drag:function(n,t,i){this.trigger("drag",n,t,i);this.updateScroll(i)},mouseup:function(n){this.stopListening(n)},stopDrag:function(n){this.isDragging&&(this.stopScrolling(),this.dragStop(n),this.isDragging=!1)},dragStop:function(n){var t=this;this.trigger("dragStop",n);setTimeout(function(){t.subjectHref&&t.subjectEl.attr("href",t.subjectHref)},0)},stopListening:function(t){this.stopDrag(t);this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),n(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(t))},listenStop:function(n){this.trigger("listenStop",n)},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(n){n.preventDefault()},computeScrollBounds:function(){var n=this.scrollEl;this.scrollBounds=n?di(n):null},updateScroll:function(n){var t=this.scrollSensitivity,i=this.scrollBounds,r,u,f,e,o=0,s=0;i&&(r=(t-(n.pageY-i.top))/t,u=(t-(i.bottom-n.pageY))/t,f=(t-(n.pageX-i.left))/t,e=(t-(i.right-n.pageX))/t,r>=0&&r<=1?o=r*this.scrollSpeed*-1:u>=0&&u<=1&&(o=u*this.scrollSpeed),f>=0&&f<=1?s=f*this.scrollSpeed*-1:e>=0&&e<=1&&(s=e*this.scrollSpeed));this.setScrollVel(o,s)},setScrollVel:function(n,t){this.scrollTopVel=n;this.scrollLeftVel=t;this.constrainScrollVel();(this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId&&(this.scrollIntervalId=setInterval(a(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var n=this.scrollEl;this.scrollTopVel<0?n.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&n.scrollTop()+n[0].clientHeight>=n[0].scrollHeight&&(this.scrollTopVel=0);this.scrollLeftVel<0?n.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&n.scrollLeft()+n[0].clientWidth>=n[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var n=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&n.scrollTop(n.scrollTop()+this.scrollTopVel*t);this.scrollLeftVel&&n.scrollLeft(n.scrollLeft()+this.scrollLeftVel*t);this.constrainScrollVel();this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),kt=p.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(n,t){p.prototype.constructor.call(this,t);this.coordMap=n},listenStart:function(n){var r=this.subjectEl,i,u,t;p.prototype.listenStart.apply(this,arguments);this.computeCoords();n?(u={left:n.pageX,top:n.pageY},t=u,r&&(i=di(r),t=yu(t,i)),this.origCell=this.getCell(t.left,t.top),r&&this.options.subjectCenter&&(this.origCell&&(i=vu(this.origCell,i)||i),t=pu(i)),this.coordAdjust=wu(t,u)):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build();this.computeScrollBounds()},dragStart:function(n){var t;p.prototype.dragStart.apply(this,arguments);t=this.getCell(n.pageX,n.pageY);t&&this.cellOver(t)},drag:function(n,t,i){var r;p.prototype.drag.apply(this,arguments);r=this.getCell(i.pageX,i.pageY);wr(r,this.cell)||(this.cell&&this.cellOut(),r&&this.cellOver(r))},dragStop:function(){this.cellDone();p.prototype.dragStop.apply(this,arguments)},cellOver:function(n){this.cell=n;this.trigger("cellOver",n,wr(n,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){p.prototype.listenStop.apply(this,arguments);this.origCell=this.cell=null;this.coordMap.clear()},scrollStop:function(){p.prototype.scrollStop.apply(this,arguments);this.computeCoords()},getCell:function(n,t){return this.coordAdjust&&(n+=this.coordAdjust.left,t+=this.coordAdjust.top),this.coordMap.getCell(n,t)}});var af=c.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,i){this.options=i=i||{};this.sourceEl=t;this.parentEl=i.parentEl?n(i.parentEl):t.parent()},start:function(t){if(!this.isFollowing){this.isFollowing=!0;this.mouseY0=t.pageY;this.mouseX0=t.pageX;this.topDelta=0;this.leftDelta=0;this.isHidden||this.updatePosition();n(document).on("mousemove",this.mousemoveProxy=a(this,"mousemove"))}},stop:function(t,i){function u(){this.isAnimating=!1;f.destroyEl();this.top0=this.left0=null;i&&i()}var f=this,r=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,n(document).off("mousemove",this.mousemoveProxy),t&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:u})):u())},getEl:function(){var n=this.el;return n||(this.sourceEl.width(),n=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),n},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var n,t;this.getEl();this.top0===null&&(this.sourceEl.width(),n=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=n.top-t.top,this.left0=n.left-t.left);this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(n){this.topDelta=n.pageY-this.mouseY0;this.leftDelta=n.pageX-this.mouseX0;this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),br=c.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(n){this.view=n;this.isRTL=n.opt("isRTL")},rowHtml:function(n,t){var f=this.getHtmlRenderer("cell",n),i="",r,u;for(t=t||0,r=0;r<this.colCnt;r++)u=this.getCell(t,r),i+=f(u);return i=this.bookendCells(i,n,t),"<tr>"+i+"<\/tr>"},bookendCells:function(n,t,i){var r=this.getHtmlRenderer("intro",t)(i||0),u=this.getHtmlRenderer("outro",t)(i||0),f=this.isRTL?u:r,e=this.isRTL?r:u;return typeof n=="string"?f+n+e:n.prepend(f).append(e)},getHtmlRenderer:function(n,t){var f=this.view,e,r,u,i;return(e=n+"Html",t&&(r=t+tf(n)+"Html"),r&&(i=f[r])?u=f:r&&(i=this[r])?u=this:(i=f[e])?u=f:(i=this[e])&&(u=this),typeof i=="function")?function(){return i.apply(u,arguments)||""}:function(){return i||""}}}),l=i.Grid=br.extend({start:null,end:null,isRTL:null,isJalaali:!1,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){br.apply(this,arguments);this.isRTL=arguments.isRTL;this.isJalaali=arguments.isJalaali;this.coordMap=new cf(this);this.elsByFill={};this.externalDragStartProxy=a(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(n){var t=this.view,i,r;this.start=n.start.clone();this.end=n.end.clone();this.rowData=[];this.colData=[];this.updateCells();this.colHeadFormat=t.opt("columnFormat")||this.computeColHeadFormat();this.eventTimeFormat=t.opt("eventTimeFormat")||t.opt("timeFormat")||this.computeEventTimeFormat();i=t.opt("displayEventTime");i==null&&(i=this.computeDisplayEventTime());r=t.opt("displayEventEnd");r==null&&(r=this.computeDisplayEventEnd());this.displayEventTime=i;this.displayEventEnd=r},updateCells:function(){},rangeToSegs:function(){},diffDates:function(n,t){return this.largeUnit?ir(n,t,this.largeUnit):tr(n,t)},getCell:function(t,i){var r;return i==null&&(typeof t=="number"?(i=t%this.colCnt,t=Math.floor(t/this.colCnt)):(i=t.col,t=t.row)),r={row:t,col:i},n.extend(r,this.getRowData(t),this.getColData(i)),n.extend(r,this.computeCellRange(r)),r},computeCellRange:function(n){var t=this.computeCellDate(n);return{start:t,end:t.clone().add(this.cellDuration)}},computeCellDate:function(){},getRowData:function(n){return this.rowData[n]||{}},getColData:function(n){return this.colData[n]||{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(n){return this.getColEl(n.col)||this.getRowEl(n.row)},computeRowCoords:function(){for(var r=[],t,i,n=0;n<this.rowCnt;n++)t=this.getRowEl(n),i=t.offset().top,r.push({top:i,bottom:i+t.outerHeight()});return r},computeColCoords:function(){for(var r=[],t,i,n=0;n<this.colCnt;n++)t=this.getColEl(n),i=t.offset().left,r.push({left:i,right:i+t.outerWidth()});return r},setElement:function(t){var i=this;this.el=t;t.on("mousedown",function(t){n(t.target).is(".fc-event-container *, .fc-more")||n(t.target).closest(".fc-popover").length||i.dayMousedown(t)});this.bindSegHandlers();this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},destroyDates:function(){},bindGlobalHandlers:function(){n(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){n(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(n){var u=this,i=this.view,f=i.opt("selectable"),r,t,e=new kt(this.coordMap,{scroll:i.opt("dragScroll"),dragStart:function(){i.unselect()},cellOver:function(n,i,e){e&&(r=i?n:null,f&&(t=u.computeSelection(e,n),t?u.renderSelection(t):ft()))},cellOut:function(){r=null;t=null;u.destroySelection();b()},listenStop:function(n){r&&i.trigger("dayClick",u.getCellDayEl(r),r.start,n);t&&i.reportSelection(t,n);b()}});e.mousedown(n)},renderRangeHelper:function(n,t){var i=this.fabricateHelperEvent(n,t);this.renderHelper(i,t)},fabricateHelperEvent:function(n,t){var i=t?vt(t.event):{};return i.start=n.start.clone(),i.end=n.end?n.end.clone():null,i.allDay=null,this.view.calendar.normalizeEventRange(i),i.className=(i.className||[]).concat("fc-helper"),t||(i.editable=!1),i},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(n){this.renderHighlight(n)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(n,t){var i=[n.start,n.end,t.start,t.end],r;return(i.sort(rf),r={start:i[0].clone(),end:i[3].clone()},!this.view.calendar.isSelectionRangeAllowed(r))?null:r},renderHighlight:function(n){this.renderFill("highlight",this.rangeToSegs(n))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(n){var t=this.elsByFill[n];t&&(t.remove(),delete this.elsByFill[n])},renderFillSegEls:function(t,i){var u=this,f=this[t+"SegEl"],e="",o=[],r;if(i.length){for(r=0;r<i.length;r++)e+=this.fillSegHtml(t,i[r]);n(e).each(function(t,r){var s=i[t],e=n(r);f&&(e=f.call(u,s,e));e&&(e=n(e),e.is(u.fillSegTag)&&(s.el=e,o.push(s)))})}return o},fillSegTag:"div",fillSegHtml:function(n,t){var i=this[n+"SegClasses"],r=this[n+"SegCss"],u=i?i.call(this,t):[],f=pt(r?r.call(this,t):{});return"<"+this.fillSegTag+(u.length?' class="'+u.join(" ")+'"':"")+(f?' style="'+f+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"<\/thead><\/table><\/div>"},headCellHtml:function(n){var t=this.view,i=n.start;return'<th class="fc-day-header '+t.widgetHeaderClass+" fc-"+ti[i.day()]+'"'+(this.rowCnt==1?' data-date="'+i.format(t.isJalaali?"YYYY-M-D":"YYYY-MM-DD",t.isJalaali)+'"':"")+">"+r(i.format(this.colHeadFormat,t.isJalaali))+"<\/th>"},bgCellHtml:function(n){var t=this.view,i=n.start,r=this.getDayClasses(i);return r.unshift("fc-day",t.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+i.format(t.isJalaali?"YYYY-M-D":"YYYY-MM-DD",t.isJalaali)+'"><\/td>'},getDayClasses:function(n){var t=this.view,r=t.calendar.getNow().stripTime(),i=["fc-"+ti[n.day()]];return t.intervalDuration.as("months")==1&&(t.isJalaali?n.jMonth()!=t.intervalStart.jMonth():n.month()!=t.intervalStart.month())&&i.push("fc-other-month"),n.isSame(r,"day")?i.push("fc-today",t.highlightStateClass):n<r?i.push("fc-past"):i.push("fc-future"),i}});l.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(n){for(var f=this.eventsToSegs(n),t=[],i=[],u,r=0;r<f.length;r++)u=f[r],vf(u.event)?t.push(u):i.push(u);t=this.renderBgSegs(t)||t;i=this.renderFgSegs(i)||i;this.segs=t.concat(i)},destroyEvents:function(){this.triggerSegMouseout();this.destroyFgSegs();this.destroyBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(t,i){var e=this.view,u="",f=[],r;if(t.length){for(r=0;r<t.length;r++)u+=this.fgSegHtml(t[r],i);n(u).each(function(i,r){var u=t[i],o=e.resolveEventEl(u.event,n(r));o&&(o.data("fc-seg",u),u.el=o,f.push(u))})}return f},fgSegHtml:function(){},renderBgSegs:function(n){return this.renderFill("bgEvent",n)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(n,t){return this.view.resolveEventEl(n.event,t)},bgEventSegClasses:function(n){var t=n.event,i=t.source||{};return["fc-bgevent"].concat(t.className,i.className||[])},bgEventSegCss:function(n){var i=this.view,t=n.event,r=t.source||{};return{"background-color":t.backgroundColor||t.color||r.backgroundColor||r.color||i.opt("eventBackgroundColor")||i.opt("eventColor")}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var t=this,i=this.view;n.each({mouseenter:function(n,i){t.triggerSegMouseover(n,i)},mouseleave:function(n,i){t.triggerSegMouseout(n,i)},click:function(n,t){return i.trigger("eventClick",this,n.event,t)},mousedown:function(r,u){n(u.target).is(".fc-resizer")&&i.isEventResizable(r.event)?t.segResizeMousedown(r,u,n(u.target).is(".fc-start-resizer")):i.isEventDraggable(r.event)&&t.segDragMousedown(r,u)}},function(i,r){t.el.on(i,".fc-event-container > *",function(i){var u=n(this).data("fc-seg");if(u&&!t.isDraggingSeg&&!t.isResizingSeg)return r.call(this,u,i)})})},triggerSegMouseover:function(n,t){this.mousedOverSeg||(this.mousedOverSeg=n,this.view.trigger("eventMouseover",n.el[0],n.event,t))},triggerSegMouseout:function(n,t){t=t||{};this.mousedOverSeg&&(n=n||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",n.el[0],n.event,t))},segDragMousedown:function(n,t){var e=this,i=this.view,s=i.calendar,o=n.el,f=n.event,r,u=new af(n.el,{parentEl:i.el,opacity:i.opt("dragOpacity"),revertDuration:i.opt("dragRevertDuration"),zIndex:2}),h=new kt(i.coordMap,{distance:5,scroll:i.opt("dragScroll"),subjectEl:o,subjectCenter:!0,listenStart:function(n){u.hide();u.start(n)},dragStart:function(t){e.triggerSegMouseout(n,t);e.segDragStart(n,t);i.hideEvent(f)},cellOver:function(t,o,h){n.cell&&(h=n.cell);r=e.computeEventDrop(h,t,f);r&&!s.isEventRangeAllowed(r,f)&&(ft(),r=null);r&&i.renderDrag(r,n)?u.hide():u.show();o&&(r=null)},cellOut:function(){i.destroyDrag();u.show();r=null},cellDone:function(){b()},dragStop:function(t){u.stop(!r,function(){i.destroyDrag();i.showEvent(f);e.segDragStop(n,t);r&&i.reportEventDrop(f,r,this.largeUnit,o,t)})},listenStop:function(){u.stop()}});h.mousedown(t)},segDragStart:function(n,t){this.isDraggingSeg=!0;this.view.trigger("eventDragStart",n.el[0],n.event,t,{})},segDragStop:function(n,t){this.isDraggingSeg=!1;this.view.trigger("eventDragStop",n.el[0],n.event,t,{})},computeEventDrop:function(n,t,i){var e=this.view.calendar,o=n.start,u=t.start,f,r;return o.hasTime()===u.hasTime()?(f=this.diffDates(u,o),i.allDay&&ri(f)?(r={start:i.start.clone(),end:e.getEventEnd(i),allDay:!1},e.normalizeEventRangeTimes(r)):r={start:i.start.clone(),end:i.end?i.end.clone():null,allDay:i.allDay},r.start.add(f),r.end&&r.end.add(f)):r={start:u.clone(),end:null,allDay:!u.hasTime()},r},applyDragOpacity:function(n){var t=this.view.opt("dragOpacity");t!=null&&n.each(function(n,i){i.style.opacity=t})},externalDragStart:function(t,i){var f=this.view,r,u;f.opt("droppable")&&(r=n((i?i.item:null)||t.target),u=f.opt("dropAccept"),(n.isFunction(u)?u.call(r[0],r):r.is(u))&&(this.isDraggingExternal||this.listenToExternalDrag(r,t,i)))},listenToExternalDrag:function(n,t,i){var r=this,f=bf(n),e,u;e=new kt(this.coordMap,{listenStart:function(){r.isDraggingExternal=!0},cellOver:function(n){u=r.computeExternalDrop(n,f);u?r.renderDrag(u):ft()},cellOut:function(){u=null;r.destroyDrag();b()},dragStop:function(){r.destroyDrag();b();u&&r.view.reportExternalDrop(f,u,n,t,i)},listenStop:function(){r.isDraggingExternal=!1}});e.startDrag(t)},computeExternalDrop:function(n,t){var i={start:n.start.clone(),end:null};return(t.startTime&&!i.start.hasTime()&&i.start.time(t.startTime),t.duration&&(i.end=i.start.clone().add(t.duration)),!this.view.calendar.isExternalDropRangeAllowed(i,t.eventProps))?null:i},renderDrag:function(){},destroyDrag:function(){},segResizeMousedown:function(n,t,i){var f=this,e=this.view,o=e.calendar,s=n.el,u=n.event,c=o.getEventEnd(u),h,r;h=new kt(this.coordMap,{distance:5,scroll:e.opt("dragScroll"),subjectEl:s,dragStart:function(t){f.triggerSegMouseout(n,t);f.segResizeStart(n,t)},cellOver:function(t,s,h){r=i?f.computeEventStartResize(h,t,u):f.computeEventEndResize(h,t,u);r&&(o.isEventRangeAllowed(r,u)?r.start.isSame(u.start,"day")&&r.end.isSame(c,"day")&&(r=null):(ft(),r=null));r&&(e.hideEvent(u),f.renderEventResize(r,n))},cellOut:function(){r=null},cellDone:function(){f.destroyEventResize();e.showEvent(u);b()},dragStop:function(t){f.segResizeStop(n,t);r&&e.reportEventResize(u,r,this.largeUnit,s,t)}});h.mousedown(t)},segResizeStart:function(n,t){this.isResizingSeg=!0;this.view.trigger("eventResizeStart",n.el[0],n.event,t,{})},segResizeStop:function(n,t){this.isResizingSeg=!1;this.view.trigger("eventResizeStop",n.el[0],n.event,t,{})},computeEventStartResize:function(n,t,i){return this.computeEventResize("start",n,t,i)},computeEventEndResize:function(n,t,i){return this.computeEventResize("end",n,t,i)},computeEventResize:function(n,t,i,r){var e=this.view.calendar,o=this.diffDates(i[n],t[n]),u,f;return u={start:r.start.clone(),end:e.getEventEnd(r),allDay:r.allDay},u.allDay&&ri(o)&&(u.allDay=!1,e.normalizeEventRangeTimes(u)),u[n].add(o),u.start.isBefore(u.end)||(f=r.allDay?e.defaultAllDayEventDuration:e.defaultTimedEventDuration,this.cellDuration&&this.cellDuration<f&&(f=this.cellDuration),n=="start"?u.start=u.end.clone().subtract(f):u.end=u.start.clone().add(f)),u},renderEventResize:function(){},destroyEventResize:function(){},getEventTimeText:function(n,t,i){return(t==null&&(t=this.eventTimeFormat),i==null&&(i=this.displayEventEnd),this.displayEventTime&&n.start.hasTime())?i&&n.end?this.view.formatRange(n,t,this.view.isRTL,this.view.isJalaali):n.start.format(t,this.view.isJalaali):""},getSegClasses:function(n,t,i){var r=n.event,u=["fc-event",n.isStart?"fc-start":"fc-not-start",n.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return t&&u.push("fc-draggable"),i&&u.push("fc-resizable"),u},getEventSkinCss:function(n){var t=this.view,i=n.source||{},r=n.color,u=i.color,f=t.opt("eventColor");return{"background-color":n.backgroundColor||r||i.backgroundColor||u||t.opt("eventBackgroundColor")||f,"border-color":n.borderColor||r||i.borderColor||u||t.opt("eventBorderColor")||f,color:n.textColor||i.textColor||t.opt("eventTextColor")}},eventsToSegs:function(n,t){for(var u=this.eventsToRanges(n),r=[],i=0;i<u.length;i++)r.push.apply(r,this.eventRangeToSegs(u[i],t));return r},eventsToRanges:function(t){var r=this,u=pf(t),i=[];return n.each(u,function(n,t){t.length&&i.push.apply(i,yf(t[0])?r.eventsToInverseRanges(t):r.eventsToNormalRanges(t))}),i},eventsToNormalRanges:function(n){for(var e=this.view.calendar,f=[],i,r,u,t=0;t<n.length;t++)i=n[t],r=i.start.clone().stripZone(),u=e.getEventEnd(i).stripZone(),f.push({event:i,start:r,end:u,eventStartMS:+r,eventDurationMS:u-r});return f},eventsToInverseRanges:function(n){var e=this.view,h=e.start.clone().stripZone(),o=e.end.clone().stripZone(),u=this.eventsToNormalRanges(n),f=[],s=n[0],t=h,i,r;for(u.sort(wf),i=0;i<u.length;i++)r=u[i],r.start>t&&f.push({event:s,start:t,end:r.start}),t=r.end;return t<o&&f.push({event:s,start:t,end:o}),f},eventRangeToSegs:function(n,t){for(var u,i=t?t(n):this.rangeToSegs(n),r=0;r<i.length;r++)u=i[r],u.event=n.event,u.eventStartMS=n.eventStartMS,u.eventDurationMS=n.eventDurationMS;return i}});i.compareSegs=g;i.dataAttrPrefix="";v=l.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){l.apply(this,arguments);this.cellDuration=t.duration(1,"day")},renderDates:function(n){for(var e=this.view,r=this.rowCnt,o=this.colCnt,s=r*o,u="",t,f,i=0;i<r;i++)u+=this.dayRowHtml(i,n);for(this.el.html(u),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),t=0;t<s;t++)f=this.getCell(t),e.trigger("dayRender",null,f.start,this.dayEls.eq(t))},destroyDates:function(){this.destroySegPopover()},renderBusinessHours:function(){var n=this.view.calendar.getBusinessHoursEvents(!0),t=this.eventsToSegs(n);this.renderFill("businessHours",t,"bgevent")},dayRowHtml:function(n,t){var r=this.view,i=["fc-row","fc-week",r.widgetContentClass];return t&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",n)+'<\/table><\/div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",n)+"<\/thead>":"")+"<\/table><\/div><\/div>"},dayCellHtml:function(n){return this.bgCellHtml(n)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return this.colCnt==1},updateCells:function(){var t,r,i,n;if(this.updateCellDates(),t=this.cellDates,this.breakOnWeeks){for(r=t[0].day(),n=1;n<t.length;n++)if(t[n].day()==r)break;i=Math.ceil(t.length/n)}else i=1,n=t.length;this.rowCnt=i;this.colCnt=n},updateCellDates:function(){for(var u=this.view,n=this.start.clone(),r=[],t=-1,i=[];n.isBefore(this.end);)u.isHiddenDay(n)?i.push(t+.5):(t++,i.push(t),r.push(n.clone())),n.add(1,"days");this.cellDates=r;this.dayToCellOffsets=i},computeCellDate:function(n){var t=this.colCnt,i=n.row*t+(this.view.isRTL?t-n.col-1:n.col);return this.cellDates[i].clone()},getRowEl:function(n){return this.rowEls.eq(n)},getColEl:function(n){return this.dayEls.eq(n)},getCellDayEl:function(n){return this.dayEls.eq(n.row*this.colCnt+n.col)},computeRowCoords:function(){var n=l.prototype.computeRowCoords.call(this);return n[n.length-1].bottom+=this.bottomCoordPadding,n},rangeToSegs:function(n){var v=this.view.isRTL,y=this.rowCnt,e=this.colCnt,h=[],o,s,u,f,c,l,a,t,i,r;for(n=this.view.computeDayRange(n),o=this.dateToCellOffset(n.start),s=this.dateToCellOffset(n.end.subtract(1,"days")),u=0;u<y;u++)f=u*e,c=f+e-1,t=Math.max(f,o),i=Math.min(c,s),t=Math.ceil(t),i=Math.floor(i),t<=i&&(l=t===o,a=i===s,t-=f,i-=f,r={row:u,isStart:l,isEnd:a},v?(r.leftCol=e-i-1,r.rightCol=e-t-1):(r.leftCol=t,r.rightCol=i),h.push(r));return h},dateToCellOffset:function(n){var t=this.dayToCellOffsets,i=n.diff(this.start,"days");return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]},renderDrag:function(n,t){return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(n)),t&&!t.el.closest(this.el).length?(this.renderRangeHelper(n,t),this.applyDragOpacity(this.helperEls),!0):void 0},destroyDrag:function(){this.destroyHighlight();this.destroyHelper()},renderEventResize:function(n,t){this.renderHighlight(n);this.renderRangeHelper(n,t)},destroyEventResize:function(){this.destroyHighlight();this.destroyHelper()},renderHelper:function(t,i){var u=[],r=this.eventsToSegs([t]),f;r=this.renderFgSegEls(r);f=this.renderSegRows(r);this.rowEls.each(function(t,r){var o=n(r),e=n('<div class="fc-helper-skeleton"><table/><\/div>'),s;s=i&&i.row===t?i.el.position().top:o.find(".fc-content-skeleton tbody").position().top;e.css("top",s).find("table").append(f[t].tbodyEl);o.append(e);u.push(e[0])});this.helperEls=n(u)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,i,r){var o=[],u,f,e;for(i=this.renderFillSegEls(t,i),u=0;u<i.length;u++)f=i[u],e=this.renderFillRow(t,f,r),this.rowEls.eq(f.row).append(e),o.push(e[0]);return this.elsByFill[t]=n(o),i},renderFillRow:function(t,i,r){var s=this.colCnt,f=i.leftCol,e=i.rightCol+1,o,u;return r=r||t.toLowerCase(),o=n('<div class="fc-'+r+'-skeleton"><table><tr/><\/table><\/div>'),u=o.find("tr"),f>0&&u.append('<td colspan="'+f+'"/>'),u.append(i.el.attr("colspan",e-f)),e<s&&u.append('<td colspan="'+(s-e)+'"/>'),this.bookendCells(u,t),o}});v.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover();l.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return l.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var i=n.grep(t,function(n){return n.event.allDay});return l.prototype.renderBgSegs.call(this,i)},renderFgSegs:function(t){var i;return t=this.renderFgSegEls(t),i=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,r){n(r).find(".fc-content-skeleton > table").append(i[t].tbodyEl)}),t},destroyFgSegs:function(){for(var t=this.rowStructs||[],n;n=t.pop();)n.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(n){for(var r=[],i=this.groupSegRows(n),t=0;t<i.length;t++)r.push(this.renderSegRow(t,i[t]));return r},fgSegHtml:function(n,t){var u=this.view,i=n.event,a=u.isEventDraggable(i),s=!t&&i.allDay&&n.isStart&&u.isEventResizableFromStart(i),h=!t&&i.allDay&&n.isEnd&&u.isEventResizableFromEnd(i),c=this.getSegClasses(n,a,s||h),l=pt(this.getEventSkinCss(i)),f="",e,o;return c.unshift("fc-day-grid-event","fc-h-event"),n.isStart&&(e=this.getEventTimeText(i),f=e?'<span class="fc-time" data-start="'+i.start.format(u.isJalaali)+'">'+r(e)+"<\/span>":""),o='<span class="fc-title">'+(r(i.title||"")||"&nbsp;")+"<\/span>",'<a class="'+c.join(" ")+'"'+(i.url?' href="'+r(SnitzVars.baseUrl+i.url)+'"':"")+(l?' style="'+l+'"':"")+'><span class="fc-content">'+(this.isRTL?o+" "+f:f+" "+o)+"<\/span>"+(s?'<div class="fc-resizer fc-start-resizer" />':"")+(h?'<div class="fc-resizer fc-end-resizer" />':"")+"<\/a>"},renderSegRow:function(t,i){function p(t){while(u<t)r=(h[f-1]||[])[u],r?r.attr("rowspan",parseInt(r.attr("rowspan")||1,10)+1):(r=n("<td/>"),o.append(r)),s[f][u]=r,h[f][u]=r,u++}for(var w=this.colCnt,a=this.buildSegLevels(i),b=Math.max(1,a.length),y=n("<tbody/>"),v=[],s=[],h=[],c,u,o,l,e,r,f=0;f<b;f++){if(c=a[f],u=0,o=n("<tr/>"),v.push([]),s.push([]),h.push([]),c)for(l=0;l<c.length;l++){for(e=c[l],p(e.leftCol),r=n('<td class="fc-event-container"/>').append(e.el),e.leftCol!=e.rightCol?r.attr("colspan",e.rightCol-e.leftCol+1):h[f][u]=r;u<=e.rightCol;)s[f][u]=r,v[f][u]=e,u++;o.append(r)}p(w);this.bookendCells(o,"eventSkeleton");y.append(o)}return{row:t,tbodyEl:y,cellMatrix:s,segMatrix:v,segLevels:a,segs:i}},buildSegLevels:function(n){var i=[],r,u,t;for(n.sort(g),r=0;r<n.length;r++){for(u=n[r],t=0;t<i.length;t++)if(!kf(u,i[t]))break;u.level=t;(i[t]||(i[t]=[])).push(u)}for(t=0;t<i.length;t++)i[t].sort(df);return i},groupSegRows:function(n){for(var i=[],t=0;t<this.rowCnt;t++)i.push([]);for(t=0;t<n.length;t++)i[n[t].row].push(n[t]);return i}});v.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(n){for(var r=this.rowStructs||[],i,t=0;t<r.length;t++)this.unlimitRow(t),i=n?typeof n=="number"?n:this.computeRowLevelLimit(t):!1,i!==!1&&this.limitRow(t,i)},computeRowLevelLimit:function(t){function s(t,i){r=Math.max(r,n(i).outerHeight())}for(var e=this.rowEls.eq(t),o=e.height(),f=this.rowStructs[t].tbodyEl.children(),u,r,i=0;i<f.length;i++)if(u=f.eq(i).removeClass("fc-limited"),r=0,u.find("> td > :first-child").each(s),u.position().top+r>o)return i;return!1},limitRow:function(t,i){function it(e){while(u<e)f=p.getCell(t,u),r=p.getCellSegs(f,i),r.length&&(s=k[i-1][u],y=p.renderMoreLink(f,r),c=n("<div/>").append(y),s.append(c),w.push(c[0])),u++}var p=this,e=this.rowStructs[t],w=[],u=0,f,b,k,d,l,o,r,g,a,s,tt,nt,h,v,c,y;if(i&&i<e.segLevels.length){for(b=e.segLevels[i-1],k=e.cellMatrix,d=e.tbodyEl.children().slice(i).addClass("fc-limited").get(),l=0;l<b.length;l++){for(o=b[l],it(o.leftCol),a=[],g=0;u<=o.rightCol;)f=this.getCell(t,u),r=this.getCellSegs(f,i),a.push(r),g+=r.length,u++;if(g){for(s=k[i-1][o.leftCol],tt=s.attr("rowspan")||1,nt=[],h=0;h<a.length;h++)v=n('<td class="fc-more-cell"/>').attr("rowspan",tt),r=a[h],f=this.getCell(t,o.leftCol+h),y=this.renderMoreLink(f,[o].concat(r)),c=n("<div/>").append(y),v.append(c),nt.push(v[0]),w.push(v[0]);s.addClass("fc-limited").after(n(nt));d.push(s[0])}}it(this.colCnt);e.moreEls=n(w);e.limitedEls=n(d)}},unlimitRow:function(n){var t=this.rowStructs[n];t.moreEls&&(t.moreEls.remove(),t.moreEls=null);t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,i){var r=this,u=this.view;return n('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(f){var e=u.opt("eventLimitClick"),o=t.start,s=n(this),c=r.getCellDayEl(t),l=r.getCellSegs(t),h=r.resliceDaySegs(l,o),a=r.resliceDaySegs(i,o);typeof e=="function"&&(e=u.trigger("eventLimitClick",null,{date:o,dayEl:c,moreEl:s,segs:h,hiddenSegs:a},f));e==="popover"?r.showSegPopover(t,s,h):typeof e=="string"&&u.calendar.zoomTo(o,e)})},showSegPopover:function(n,t,i){var u=this,e=this.view,f=t.parent(),o,r;o=this.rowCnt==1?e.el:this.rowEls.eq(n.row);r={className:"fc-more-popover",content:this.renderSegPopoverContent(n,i),parentEl:this.el,top:o.offset().top,autoHide:!0,viewportConstrain:e.opt("popoverViewportConstrain"),hide:function(){u.segPopover.destroy();u.segPopover=null;u.popoverSegs=null}};this.isRTL?r.right=f.offset().left+f.outerWidth()+1:r.left=f.offset().left-1;this.segPopover=new hf(r);this.segPopover.show()},renderSegPopoverContent:function(t,i){var f=this.view,o=f.opt("theme"),s=t.start.format(f.opt("dayPopoverFormat")),e=n('<div class="fc-header '+f.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"><\/span><span class="fc-title">'+r(s)+'<\/span><div class="fc-clear"/><\/div><div class="fc-body '+f.widgetContentClass+'"><div class="fc-event-container"><\/div><\/div>'),h=e.find(".fc-event-container"),u;for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,u=0;u<i.length;u++)i[u].cell=t,h.append(i[u].el);return e},resliceDaySegs:function(t,i){var u=n.map(t,function(n){return n.event}),r=i.clone().stripTime(),f=r.clone().add(1,"days"),e={start:r,end:f};return t=this.eventsToSegs(u,function(n){var t=lt(n,e);return t?[t]:[]}),t.sort(g),t},getMoreLinkText:function(n){var t=this.view.opt("eventLimitText");return typeof t=="function"?t(n):"+"+n+" "+t},getCellSegs:function(n,t){for(var u=this.rowStructs[n.row].segMatrix,i=t||0,f=[],r;i<u.length;)r=u[i][n.col],r&&f.push(r),i++;return f}});dr=v.extend({constructor:function(){l.apply(this,arguments);this.cellDuration=t.duration(1,"month")},setRange:function(){var n=this.view;this.eventDateSameMonthFormat=n.opt("eventDateSameMonthFormat")||"D";this.eventDateDifferentMonthFormat=n.opt("eventDateDifferentMonthFormat")||"MMM D";this.eventDateDifferentYearFormat=n.opt("eventDateDifferentYearFormat")||"MMM D, YYYY";v.prototype.setRange.apply(this,arguments)},computeDisplayEventEnd:function(){return!0},dayRowHtml:function(n,t){var r=this.view,i=["fc-row","fc-month",r.widgetContentClass];return t&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("month",n)+'<\/table><\/div><div class="fc-content-skeleton"><table><thead>'+this.rowHtml("monthName",n)+"<\/thead><\/table><\/div><\/div>"},rowHtml:function(n,t){var f=this.getHtmlRenderer("cell",n),i="",r,u;for(t=t||0,r=0;r<this.colCnt;r++)u=this.getCell(t,r),i+=f(u);return i=this.bookendCells(i,n,t),"<tr>"+i+"<\/tr>"},monthCellHtml:function(n){var t=this.view,i=n.start,r=this.getMonthClasses(i);return r.unshift("fc-month",t.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+i.format(t.isJalaali?"YYYY-M-D":"YYYY-MM-DD",t.isJalaali)+'"><\/td>'},getMonthClasses:function(n){var i=this.view,r=i.calendar.getNow().stripTime(),t=[];return n.isSame(r,"month")?t.push("fc-today",i.highlightStateClass):n<r?t.push("fc-past"):t.push("fc-future"),t},monthNameCellHtml:function(n){var t=n.start,i;return i=this.getMonthClasses(t),i.unshift("fc-month-name"),'<th class="'+i.join(" ")+'" data-month="'+(this.view.isJalaali?t.jMonth():t.month())+'" data-date="'+t.format(this.view.isJalaali?"YYYY-M-D":"YYYY-MM-DD",this.view.isJalaali)+'">'+t.format(this.colHeadFormat,this.view.isJalaali)+"<\/th>"},updateCells:function(){this.colCnt=this.view.opt("monthsPerRow");this.rowCnt=12/this.colCnt;this.updateCellDates()},updateCellDates:function(){for(var n=this.start.clone(),u=this.view.isJalaali,i=[],t=-1,r=[],f;n.isBefore(this.end);)t++,r.push(t),u&&(f=n.jMonth(t)),i.push(n.clone()),n.add(1,"month");this.cellDates=i;this.dayToCellOffsets=r},rangeToSegs:function(n){var v=this.view.isRTL,y=this.rowCnt,e=this.colCnt,h=[],o,s,u,f,c,l,a,t,i,r;for(n=this.view.computeDayRange(n),o=this.dateToCellOffset(n.start),s=this.dateToCellOffset(n.end.subtract(1,"days")),u=0;u<y;u++)f=u*e,c=f+e-1,t=Math.max(f,o),i=Math.min(c,s),t=Math.ceil(t),i=Math.floor(i),t<=i&&(l=t===o,a=i===s,t-=f,i-=f,r={row:u,isStart:l,isEnd:a},v?(r.leftCol=e-i-1,r.rightCol=e-t-1):(r.leftCol=t,r.rightCol=i),h.push(r));return h},dateToCellOffset:function(n){var t=this.dayToCellOffsets,i=n.diff(this.start,"months",!0);return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[Math.floor(i)]},computeColHeadFormat:function(){return"MMMM"},renderSegPopoverContent:function(t,i){var f=this.view,o=f.opt("theme"),s=t.start.format(f.opt("monthPopoverFormat")),e=n('<div class="fc-header '+f.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"><\/span><span class="fc-title">'+r(s)+'<\/span><div class="fc-clear"/><\/div><div class="fc-body '+f.widgetContentClass+'"><div class="fc-event-container"><\/div><\/div>'),h=e.find(".fc-event-container"),u;for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,u=0;u<i.length;u++)i[u].cell=t,h.append(i[u].el);return e},resliceDaySegs:function(t,i){var u=n.map(t,function(n){return n.event}),r=i.clone().stripTime(),f=r.clone().add(1,"month"),e={start:r,end:f};return t=this.eventsToSegs(u,function(n){var t=lt(n,e);return t?[t]:[]}),t.sort(g),t},getEventTimeText:function(n,t,i){return i==null&&(i=this.displayEventEnd),i&&n.end?(t==null&&(t=n.start.year()!=n.end.year()?this.eventDateDifferentYearFormat:n.start.month()!=n.end.month()?this.eventDateDifferentMonthFormat:this.eventDateSameMonthFormat),n.start.format(t,this.view.isJalaali)):(t==null&&(t=this.eventDateSameMonthFormat),n.start.format(t,this.view.isJalaali))}});vi=l.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){l.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.dayEls=this.el.find(".fc-day");this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var n=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(n),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'<\/table><\/div><div class="fc-slats"><table>'+this.slatRowHtml()+"<\/table><\/div>"},slotBgCellHtml:function(n){return this.bgCellHtml(n)},slatRowHtml:function(){for(var n=this.view,o=this.isRTL,s="",h=this.slotDuration.asMinutes()%15==0,i=t.duration(+this.minTime),u,f,e;i<this.maxTime;)u=this.start.clone().time(i),f=u.minutes(),e='<td class="fc-axis fc-time '+n.widgetContentClass+'" '+n.axisStyleAttr()+">"+(!h||!f?"<span>"+r(u.format(this.axisFormat))+"<\/span>":"")+"<\/td>",s+="<tr "+(f?'class="fc-minor"':"")+">"+(o?"":e)+'<td class="'+n.widgetContentClass+'"/>'+(o?e:"")+"<\/tr>",i.add(this.slotDuration);return s},processOptions:function(){var n=this.view,r=n.opt("slotDuration"),i=n.opt("snapDuration");r=t.duration(r);i=i?t.duration(i):r;this.slotDuration=r;this.snapDuration=i;this.cellDuration=i;this.minTime=t.duration(n.opt("minTime"));this.maxTime=t.duration(n.opt("maxTime"));this.axisFormat=n.opt("axisFormat")||n.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){for(var i=this.view,t=[],n=this.start.clone();n.isBefore(this.end);)t.push({day:n.clone()}),n.add(1,"day"),n=i.skipHiddenDays(n);this.isRTL&&t.reverse();this.colData=t;this.colCnt=t.length;this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(n){var t=this.computeSnapTime(n.row);return this.view.calendar.rezoneDate(n.day).time(t)},getColEl:function(n){return this.dayEls.eq(n)},computeSnapTime:function(n){return t.duration(this.minTime+this.snapDuration*n)},rangeToSegs:function(n){var e=this.colCnt,u=[],i,t,r,f;for(n={start:n.start.clone().stripZone(),end:n.end.clone().stripZone()},t=0;t<e;t++)r=this.colData[t].day,f={start:r.clone().time(this.minTime),end:r.clone().time(this.maxTime)},i=lt(n,f),i&&(i.col=t,u.push(i));return u},updateSize:function(n){this.computeSlatTops();n&&this.updateSegVerticals()},computeRowCoords:function(){for(var r=this.el.offset().top,i=[],t,n=0;n<this.rowCnt;n++)t={top:r+this.computeTimeTop(this.computeSnapTime(n))},n>0&&(i[n-1].bottom=t.top),i.push(t);return t.bottom=t.top+this.computeTimeTop(this.computeSnapTime(n)),i},computeDateTop:function(n,i){return this.computeTimeTop(t.duration(n.clone().stripZone()-i.clone().stripTime()))},computeTimeTop:function(n){var t=(n-this.minTime)/this.slotDuration,i,u,r,f;return t=Math.max(0,t),t=Math.min(this.slatEls.length,t),i=Math.floor(t),u=t-i,r=this.slatTops[i],u?(f=this.slatTops[i+1],r+(f-r)*u):r},computeSlatTops:function(){var t=[],i;this.slatEls.each(function(r,u){i=n(u).position().top;t.push(i)});t.push(i+this.slatEls.last().outerHeight());this.slatTops=t},renderDrag:function(n,t){if(t)return this.renderRangeHelper(n,t),this.applyDragOpacity(this.helperEl),!0;this.renderHighlight(this.view.calendar.ensureVisibleEventRange(n))},destroyDrag:function(){this.destroyHelper();this.destroyHighlight()},renderEventResize:function(n,t){this.renderRangeHelper(n,t)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(t,i){var r=this.eventsToSegs([t]),o,f,e,u;for(r=this.renderFgSegEls(r),o=this.renderSegTable(r),f=0;f<r.length;f++)e=r[f],i&&i.col===e.col&&(u=i.el,e.el.css({left:u.css("left"),right:u.css("right"),"margin-left":u.css("margin-left"),"margin-right":u.css("margin-right")}));this.helperEl=n('<div class="fc-helper-skeleton"/>').append(o).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(n){this.view.opt("selectHelper")?this.renderRangeHelper(n):this.renderHighlight(n)},destroySelection:function(){this.destroyHelper();this.destroyHighlight()},renderFill:function(t,i,r){var h,f,c,u,e,a,v,l,o,s;if(i.length){for(i=this.renderFillSegEls(t,i),h=this.groupSegCols(i),r=r||t.toLowerCase(),f=n('<div class="fc-'+r+'-skeleton"><table><tr/><\/table><\/div>'),c=f.find("tr"),u=0;u<h.length;u++)if(e=h[u],a=n("<td/>").appendTo(c),e.length)for(v=n('<div class="fc-'+r+'-container"/>').appendTo(a),l=this.colData[u].day,o=0;o<e.length;o++)s=e[o],v.append(s.el.css({top:this.computeDateTop(s.start,l),bottom:-this.computeDateTop(s.end,l)}));this.bookendCells(c,t);this.el.append(f);this.elsByFill[t]=f}return i}});vi.mixin({eventSkeletonEl:null,renderFgSegs:function(t){return t=this.renderFgSegEls(t),this.el.append(this.eventSkeletonEl=n('<div class="fc-content-skeleton"/>').append(this.renderSegTable(t))),t},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(t){var s=n("<table><tr/><\/table>"),h=s.find("tr"),e,r,i,u,f,o;for(e=this.groupSegCols(t),this.computeSegVerticals(t),u=0;u<e.length;u++){for(f=e[u],gf(f),o=n('<div class="fc-event-container"/>'),r=0;r<f.length;r++)i=f[r],i.el.css(this.generateSegPositionCss(i)),i.bottom-i.top<30&&i.el.addClass("fc-short"),o.append(i.el);h.append(n("<td/>").append(o))}return this.bookendCells(h,"eventSkeleton"),s},updateSegVerticals:function(){var t=(this.segs||[]).concat(this.businessHourSegs||[]),n;for(this.computeSegVerticals(t),n=0;n<t.length;n++)t[n].el.css(this.generateSegVerticalCss(t[n]))},computeSegVerticals:function(n){for(var t,i=0;i<n.length;i++)t=n[i],t.top=this.computeDateTop(t.start,t.start),t.bottom=this.computeDateTop(t.end,t.start)},fgSegHtml:function(n,t){var u=this.view,i=n.event,l=u.isEventDraggable(i),a=!t&&n.isStart&&u.isEventResizableFromStart(i),s=!t&&n.isEnd&&u.isEventResizableFromEnd(i),h=this.getSegClasses(n,l,a||s),c=pt(this.getEventSkinCss(i)),f,e,o;return h.unshift("fc-time-grid-event","fc-v-event"),u.isMultiDayEvent(i)?(n.isStart||n.isEnd)&&(f=this.getEventTimeText(n),e=this.getEventTimeText(n,"LT"),o=this.getEventTimeText(n,null,!1)):(f=this.getEventTimeText(i),e=this.getEventTimeText(i,"LT"),o=this.getEventTimeText(i,null,!1)),'<a class="'+h.join(" ")+'"'+(i.url?' href="'+r(SnitzVars.baseUrl+i.url)+'"':"")+(c?' style="'+c+'"':"")+'><span class="fc-content">'+(f?'<div class="fc-time" data-start="'+r(o)+'" data-full="'+r(e)+'"><span>'+r(f)+"<\/span><\/div>":"")+(i.title?'<div class="fc-title">'+r(i.title)+"<\/div>":"")+'<\/span><div class="fc-bg"/>'+(s?'<div class="fc-resizer fc-end-resizer" />':"")+"<\/a>"},generateSegPositionCss:function(n){var e=this.view.opt("slotEventOverlap"),i=n.backwardCoord,r=n.forwardCoord,t=this.generateSegVerticalCss(n),u,f;return e&&(r=Math.min(1,i+(r-i)*2)),this.isRTL?(u=1-r,f=i):(u=i,f=1-r),t.zIndex=n.level+1,t.left=u*100+"%",t.right=f*100+"%",e&&n.forwardPressure&&(t[this.isRTL?"marginLeft":"marginRight"]=20),t},generateSegVerticalCss:function(n){return{top:n.top,bottom:-n.bottom}},groupSegCols:function(n){for(var i=[],t=0;t<this.colCnt;t++)i.push([]);for(t=0;t<n.length;t++)i[n[t].col].push(n[t]);return i}});o=i.View=c.extend({type:null,name:null,title:null,description:"put description here",calendar:null,options:null,coordMap:null,el:null,isDisplayed:!1,isSkeletonRendered:!1,isEventsRendered:!1,isJalaali:!1,isRTL:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(n,i,r,u){this.calendar=n;this.type=this.name=i;this.options=r;this.intervalDuration=u||t.duration(1,"day");this.nextDayThreshold=t.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.isJalaali=this.opt("isJalaali");this.documentMousedownProxy=a(this,"documentMousedown");this.initialize()},initialize:function(){},opt:function(n){return this.options[n]},trigger:function(n,t){var i=this.calendar;return i.trigger.apply(i,[n,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(n){this.setRange(this.computeRange(n))},setRange:function(t){n.extend(this,t);this.updateTitle()},computeRange:function(n){var r=ii(this.intervalDuration),t=n.clone().startOf(wt(r,this.isJalaali)),i,u,f;return i=this.isJalaali&&(r==="year"||r==="month")?t.clone().add(1,wt(r,this.isJalaali)):t.clone().add(this.intervalDuration),/year|month|week|day/.test(r)?(t.stripTime(),i.stripTime()):(t.hasTime()||(t=this.calendar.rezoneDate(t)),i.hasTime()||(i=this.calendar.rezoneDate(i))),u=t.clone(),u=this.skipHiddenDays(u),f=i.clone(),f=this.skipHiddenDays(f,-1,!0),{intervalUnit:r,intervalStart:t,intervalEnd:i,start:u,end:f}},computePrevDate:function(n){return this.massageCurrentDate(n.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(n){return this.massageCurrentDate(n.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(n,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(n)&&(n=this.skipHiddenDays(n,t),n.startOf("day")),n},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return this.intervalUnit=="year"?"YYYY":this.intervalUnit=="month"?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(n,t,i){var r=n.end;return r.hasTime()||(r=r.clone().subtract(1)),lr(n.start,r,t,i,this.opt("isRTL"),this.opt("isJalaali"))},setElement:function(n){this.el=n;this.bindGlobalHandlers()},removeElement:function(){this.clear();this.isSkeletonRendered&&(this.destroySkeleton(),this.isSkeletonRendered=!1);this.unbindGlobalHandlers();this.el.remove()},display:function(n){var t=null;this.isDisplayed&&(t=this.queryScroll());this.clear();this.setDate(n);this.render();this.updateSize();this.renderBusinessHours();this.isDisplayed=!0;t=this.computeInitialScroll(t);this.forceScroll(t);this.triggerRender()},clear:function(){this.isDisplayed&&(this.unselect(),this.clearEvents(),this.triggerDestroy(),this.destroyBusinessHours(),this.destroy(),this.isDisplayed=!1)},render:function(){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0);this.renderDates()},destroy:function(){this.destroyDates()},renderSkeleton:function(){},destroySkeleton:function(){},renderDates:function(){},destroyDates:function(){},renderBusinessHours:function(){},destroyBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerDestroy:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){n(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){n(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var n=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=n+"-widget-header";this.widgetContentClass=n+"-widget-content";this.highlightStateClass=n+"-state-highlight"},updateSize:function(n){var t;n&&(t=this.queryScroll());this.updateHeight();this.updateWidth();n&&this.setScroll(t)},updateWidth:function(){},updateHeight:function(){var n=this.calendar;this.setHeight(n.getSuggestedViewHeight(),n.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(n){var i=this.scrollerEl,t,r;return t=this.el.add(i),t.css({position:"relative",left:-1}),r=this.el.outerHeight()-i.height(),t.css({position:"",left:""}),n-r},computeInitialScroll:function(){return 0},queryScroll:function(){if(this.scrollerEl)return this.scrollerEl.scrollTop()},setScroll:function(n){if(this.scrollerEl)return this.scrollerEl.scrollTop(n)},forceScroll:function(n){var t=this;this.setScroll(n);setTimeout(function(){t.setScroll(n)},0)},displayEvents:function(n){var t=this.queryScroll();this.clearEvents();this.renderEvents(n);this.isEventsRendered=!0;this.setScroll(t);this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventDestroy(),this.destroyEvents(),this.isEventsRendered=!1)},renderEvents:function(){},destroyEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(n){this.trigger("eventAfterRender",n.event,n.event,n.el)});this.trigger("eventAfterAllRender")},triggerEventDestroy:function(){this.renderedEventSegEach(function(n){this.trigger("eventDestroy",n.event,n.event,n.el)})},resolveEventEl:function(t,i){var r=this.trigger("eventRender",t,t,i);return r===!1?i=null:r&&r!==!0&&(i=n(r)),i},showEvent:function(n){this.renderedEventSegEach(function(n){n.el.css("visibility","")},n)},hideEvent:function(n){this.renderedEventSegEach(function(n){n.el.css("visibility","hidden")},n)},renderedEventSegEach:function(n,t){for(var r=this.getEventSegs(),i=0;i<r.length;i++)t&&r[i].event._id!==t._id||r[i].el&&n.call(this,r[i])},getEventSegs:function(){return[]},isEventDraggable:function(n){var t=n.source||{};return h(n.startEditable,t.startEditable,this.opt("eventStartEditable"),n.editable,t.editable,this.opt("editable"))},reportEventDrop:function(n,t,i,r,u){var f=this.calendar,e=f.mutateEvent(n,t,i),o=function(){e.undo();f.reportEventChange()};this.triggerEventDrop(n,e.dateDelta,o,r,u);f.reportEventChange()},triggerEventDrop:function(n,t,i,r,u){this.trigger("eventDrop",r[0],n,t,i,u,{})},reportExternalDrop:function(t,i,r,u,f){var e=t.eventProps,o,s;e&&(o=n.extend({},e,i),s=this.calendar.renderEvent(o,t.stick)[0]);this.triggerExternalDrop(s,i,r,u,f)},triggerExternalDrop:function(n,t,i,r,u){this.trigger("drop",i[0],t.start,r,u);n&&this.trigger("eventReceive",null,n)},renderDrag:function(){},destroyDrag:function(){},isEventResizableFromStart:function(n){return this.opt("eventResizableFromStart")&&this.isEventResizable(n)},isEventResizableFromEnd:function(n){return this.isEventResizable(n)},isEventResizable:function(n){var t=n.source||{};return h(n.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),n.editable,t.editable,this.opt("editable"))},reportEventResize:function(n,t,i,r,u){var f=this.calendar,e=f.mutateEvent(n,t,i),o=function(){e.undo();f.reportEventChange()};this.triggerEventResize(n,e.durationDelta,o,r,u);f.reportEventChange()},triggerEventResize:function(n,t,i,r,u){this.trigger("eventResize",r[0],n,t,i,u,{})},select:function(n,t){this.unselect(t);this.renderSelection(n);this.reportSelection(n,t)},renderSelection:function(){},reportSelection:function(n,t){this.isSelected=!0;this.trigger("select",null,n.start,n.end,t)},unselect:function(n){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,n))},destroySelection:function(){},documentMousedown:function(t){var i;this.isSelected&&this.opt("unselectAuto")&&nr(t)&&(i=this.opt("unselectCancel"),i&&n(t.target).closest(i).length||this.unselect(t))},initHiddenDays:function(){var i=this.opt("hiddenDays")||[],r=[],u=0,t;for(this.opt("weekends")===!1&&i.push(0,6),t=0;t<7;t++)(r[t]=n.inArray(t,i)!==-1)||u++;if(!u)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function(n){return t.isMoment(n)&&(n=n.day()),this.isHiddenDayHash[n]},skipHiddenDays:function(n,t,i){var r=n.clone();for(t=t||1;this.isHiddenDayHash[(r.day()+(i?t:0)+7)%7];)r.add(t,"days");return r},computeDayRange:function(n){var r=n.start.clone().stripTime(),i=n.end,t=null,u;return i&&(t=i.clone().stripTime(),u=+i.time(),u&&u>=this.nextDayThreshold&&t.add(1,"days")),(!i||t<=r)&&(t=r.clone().add(1,"days")),{start:r,end:t}},isMultiDayEvent:function(n){var t=this.computeDayRange(n);return t.end.diff(t.start,"days")>1}});s=i.Calendar=i.CalendarBase=c.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,constructor:ue,initOptions:function(n){var i,t,u,r;n=hu(n);i=n.lang;t=w[i];t||(i=s.defaults.lang,t=w[i]||{});u=h(n.isRTL,t.isRTL,s.defaults.isRTL);r=u?s.rtlDefaults:{};this.dirDefaults=r;this.langDefaults=t;this.overrides=n;this.options=nt(s.defaults,r,t,n);tu(this.options);this.viewSpecCache={}},getViewSpec:function(n){var t=this.viewSpecCache;return t[n]||(t[n]=this.buildViewSpec(n))},getUnitViewSpec:function(t){var r,u,f;if(n.inArray(t,at)!=-1)for(r=this.header.getViewsWithButtons(),n.each(i.views,function(n){r.push(n)}),u=0;u<r.length;u++)if(f=this.getViewSpec(r[u]),f&&f.singleUnit==t)return f},buildViewSpec:function(n){for(var a=this.overrides.views||{},c=[],l=[],o=n,f,u,s,i,h,r;o&&!f;)u=e[o]||{},s=a[o]||{},i=i||s.duration||u.duration,o=s.type||u.type,typeof u=="function"?(f=u,c.unshift(f.defaults||{})):c.unshift(u),l.unshift(s);if(f)return r={"class":f,type:n},i&&(i=t.duration(i),i.valueOf()||(i=null)),i&&(r.duration=i,h=ii(i),i.as(h)===1&&(r.singleUnit=h,l.unshift(a[h]||{}))),r.defaults=nt.apply(null,c),r.overrides=nt.apply(null,l),this.buildViewSpecOptions(r),this.buildViewSpecButtonText(r,n),r},buildViewSpecOptions:function(n){n.options=nt(s.defaults,n.defaults,this.dirDefaults,this.langDefaults,this.overrides,n.overrides);tu(n.options)},buildViewSpecButtonText:function(n,t){function i(i){var r=i.buttonText||{};return r[t]||(n.singleUnit?r[n.singleUnit]:null)}n.buttonTextOverride=i(this.overrides)||n.overrides.buttonText;n.buttonTextDefault=i(this.langDefaults)||i(this.dirDefaults)||n.defaults.buttonText||i(s.defaults)||(n.duration?this.humanizeDuration(n.duration):null)||t},instantiateView:function(n){var t=this.getViewSpec(n);return new t["class"](this,n,t.options,t.duration)},isValidViewType:function(n){return Boolean(this.getViewSpec(n))}});s.defaults={titleRangeSeparator:" — ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,isJalaali:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:this.isRTL?"right-single-arrow":"left-single-arrow",next:this.isRTL?"left-single-arrow":"right-single-arrow",prevYear:this.isRTL?"right-double-arrow":"left-double-arrow",nextYear:this.isRTL?"left-double-arrow":"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200};s.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};s.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:this.isRTL?"right-single-arrow":"left-single-arrow",next:this.isRTL?"left-single-arrow":"right-single-arrow",prevYear:this.isRTL?"right-double-arrow":"left-double-arrow",nextYear:this.isRTL?"left-double-arrow":"right-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};w=i.langs={};i.datepickerLang=function(t,i,r){var u=w[t]||(w[t]={});u.isRTL=r.isRTL;u.weekNumberTitle=r.weekHeader;n.each(fe,function(n,t){u[n]=t(r)});n.datepicker&&(n.datepicker.regional[i]=n.datepicker.regional[t]=r,n.datepicker.regional.en=n.datepicker.regional[""],n.datepicker.setDefaults(r))};i.lang=function(t,i){var r,u;r=w[t]||(w[t]={});i&&(r=w[t]=nt(r,i));u=iu(t);n.each(ee,function(n,t){r[n]==null&&(r[n]=t(u,r))});s.defaults.lang=t};var fe={buttonText:function(n){return{prev:fi(n.prevText),next:fi(n.nextText),today:fi(n.currentText)}},monthYearFormat:function(n){return n.showMonthAfterYear?"YYYY["+n.yearSuffix+"] MMMM":"MMMM YYYY["+n.yearSuffix+"]"}},ee={dayOfMonthFormat:function(n,t){var i=n.longDateFormat("l");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?i+=" ddd":i="ddd "+i,i},mediumTimeFormat:function(n){return n.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(n){return n.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(n){return n.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(n){return n.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(n){return n.longDateFormat("LT").replace(/\s*a$/i,"")}},oe={smallDayDateFormat:function(n){return n.isRTL?"D dd":"dd D"},weekFormat:function(n){return n.isRTL?"w[ "+n.weekNumberTitle+"]":"["+n.weekNumberTitle+" ]w"},smallWeekFormat:function(n){return n.isRTL?"w["+n.weekNumberTitle+"]":"["+n.weekNumberTitle+"]w"}};i.lang("en",s.englishDefaults);i.sourceNormalizers=[];i.sourceFetchers=[];ru={dataType:"json",cache:!1};uu=1;s.prototype.getPeerEvents=function(n){for(var r=this.getEventCache(),u=[],i,t=0;t<r.length;t++)i=r[t],n&&n._id===i._id||u.push(i);return u};dt=e.basic=o.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new v(this);this.coordMap=this.dayGrid.coordMap},setRange:function(n){o.prototype.setRange.call(this,n);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(n)},computeRange:function(n){var t=o.prototype.computeRange.call(this,n);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderHtml());this.headRowEl=this.el.find("thead .fc-row");this.scrollerEl=this.el.find(".fc-day-grid-container");this.dayGrid.coordMap.containerEl=this.scrollerEl;this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates(this.hasRigidRows())},destroy:function(){this.dayGrid.destroyDates();this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'<\/td><\/tr><\/thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'},headIntroHtml:function(){if(this.weekNumbersVisible)return'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+r(this.opt("weekNumberTitle"))+"<\/span><\/th>"},numberIntroHtml:function(n){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(n,0).start.format("w")+"<\/span><\/td>"},dayIntroHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"><\/td>"},introHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><\/td>"},numberCellHtml:function(n){var t=n.start,i;return this.dayNumbersVisible?(i=this.dayGrid.getDayClasses(t),i.unshift("fc-day-number"),'<td class="'+i.join(" ")+'" data-date="'+t.format(this.isJalaali?"YYYY-M-D":"YYYY-MM-DD",this.isJalaali)+'">'+(this.isJalaali?eu(t.jDate()):t.date())+"<\/td>"):"<td/>"},weekNumberStyleAttr:function(){return this.weekNumberWidth!==null?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var n=this.opt("eventLimit");return n&&typeof n!="number"},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=st(this.el.find(".fc-week-number")))},setHeight:function(n,t){var i=this.opt("eventLimit"),r;tt(this.scrollerEl);ut(this.headRowEl);this.dayGrid.destroySegPopover();i&&typeof i=="number"&&this.dayGrid.limitRows(i);r=this.computeScrollerHeight(n);this.setGridHeight(r,t);i&&typeof i!="number"&&this.dayGrid.limitRows(i);!t&&ht(this.scrollerEl,r)&&(rt(this.headRowEl,k(this.scrollerEl)),r=this.computeScrollerHeight(n),this.scrollerEl.height(r))},setGridHeight:function(n,t){t?ot(this.dayGrid.rowEls):et(this.dayGrid.rowEls,n,!0)},renderEvents:function(n){this.dayGrid.renderEvents(n);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.dayGrid.destroyEvents()},renderDrag:function(n,t){return this.dayGrid.renderDrag(n,t)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(n){this.dayGrid.renderSelection(n)},destroySelection:function(){this.dayGrid.destroySelection()}});e.basicWeek={type:"basic",duration:{weeks:1}};e.basicDay={type:"basic",duration:{days:1}};wi=e.month=dt.extend({computeRange:function(n){var t=dt.prototype.computeRange.call(this,n),i;return this.isFixedWeeks()&&(i=Math.ceil(t.end.diff(t.start,"weeks",!0)),t.end.add(6-i,"weeks")),t},setGridHeight:function(n,t){t=t||this.opt("weekMode")==="variable";t&&(n*=this.rowCnt/6);et(this.dayGrid.rowEls,n,!t)},isFixedWeeks:function(){var n=this.opt("weekMode");return n?n==="fixed":this.opt("fixedWeekCount")}});wi.duration={months:1};wi.defaults={fixedWeekCount:!0};bi=e.year=dt.extend({initialize:function(){this.date=new Date;this.dayGrid=new dr(this);this.dayGrid.cellDuration=t.duration(1,"month");this.coordMap=this.dayGrid.coordMap},computeRange:function(n){return o.prototype.computeRange.call(this,n)},render:function(){this.el.html(this.renderHtml());this.headRowEl=n();this.el.addClass("fc-year-view").html(this.renderHtml());this.scrollerEl=this.el.find(".fc-month-grid-container");this.dayGrid.coordMap.containerEl=this.scrollerEl;this.dayGrid.setElement(this.el.find(".fc-month-grid"));this.dayGrid.renderDates(this.hasRigidRows())},renderHtml:function(){return'<table><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-month-grid-container"><div class="fc-month-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'}});bi.duration={years:1};bi.defaults={monthsPerRow:3,monthPopoverFormat:"MMMM"};var ce=5,le=e.agenda=o.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new vi(this);this.opt("allDaySlot")?(this.dayGrid=new v(this),this.coordMap=new lf([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(n){o.prototype.setRange.call(this,n);this.timeGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.timeGrid.setRange(n);this.dayGrid&&this.dayGrid.setRange(n)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml());this.scrollerEl=this.el.find(".fc-time-grid-container");this.timeGrid.coordMap.containerEl=this.scrollerEl;this.timeGrid.setElement(this.el.find(".fc-time-grid"));this.timeGrid.renderDates();this.bottomRuleEl=n('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight());this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroyDates();this.timeGrid.removeElement();this.dayGrid&&(this.dayGrid.destroyDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'<\/td><\/tr><\/thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'},headIntroHtml:function(){var n,t;return this.opt("weekNumbers")?(n=this.timeGrid.getCell(0).start,t=n.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+r(t)+"<\/span><\/th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><\/th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||r(this.opt("allDayText")))+"<\/span><\/td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><\/td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"><\/td>"},axisStyleAttr:function(){return this.axisWidth!==null?'style="width:'+this.axisWidth+'px"':""},updateSize:function(n){this.timeGrid.updateSize(n);o.prototype.updateSize.call(this,n)},updateWidth:function(){this.axisWidth=st(this.el.find(".fc-axis"))},setHeight:function(n,t){var i,r;this.bottomRuleHeight===null&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight());this.bottomRuleEl.hide();this.scrollerEl.css("overflow","");tt(this.scrollerEl);ut(this.noScrollRowEls);this.dayGrid&&(this.dayGrid.destroySegPopover(),i=this.opt("eventLimit"),i&&typeof i!="number"&&(i=ce),i&&this.dayGrid.limitRows(i));t||(r=this.computeScrollerHeight(n),ht(this.scrollerEl,r)?(rt(this.noScrollRowEls,k(this.scrollerEl)),r=this.computeScrollerHeight(n),this.scrollerEl.height(r)):(this.scrollerEl.height(r).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var i=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(i);return n=Math.ceil(n),n&&n++,n},renderEvents:function(n){for(var i=[],r=[],u=[],f,t=0;t<n.length;t++)n[t].allDay?i.push(n[t]):r.push(n[t]);f=this.timeGrid.renderEvents(r);this.dayGrid&&(u=this.dayGrid.renderEvents(i));this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.timeGrid.destroyEvents();this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(n,t){return n.start.hasTime()?this.timeGrid.renderDrag(n,t):this.dayGrid?this.dayGrid.renderDrag(n,t):void 0},destroyDrag:function(){this.timeGrid.destroyDrag();this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(n){n.start.hasTime()||n.end.hasTime()?this.timeGrid.renderSelection(n):this.dayGrid&&this.dayGrid.renderSelection(n)},destroySelection:function(){this.timeGrid.destroySelection();this.dayGrid&&this.dayGrid.destroySelection()}});return le.defaults={allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0},e.agendaWeek={type:"agenda",duration:{weeks:1}},e.agendaDay={type:"agenda",duration:{days:1}},fu=e.list=o.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new v(this);this.coordMap=this.dayGrid.coordMap},setRange:function(n){o.prototype.setRange.call(this,n);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(n)},computeRange:function(n){var t=o.prototype.computeRange.call(this,n);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},render:function(){this.el.html(this.renderHtml());this.dayNumbersVisible=!1;this.weekNumbersVisible=!1;this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderHtml());this.headRowEl=n();this.scrollerEl=this.el.find(".fc-day-grid-container");this.dayGrid.coordMap.containerEl=this.scrollerEl;this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates(this.hasRigidRows())},destroy:function(){this.dayGrid.destroyDates();this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'<\/td><\/tr><\/thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+r(this.opt("weekNumberTitle"))+"<\/span><\/th>":""},numberIntroHtml:function(n){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(n,0).start.format("w")+"<\/span><\/td>":""},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"><\/td>":""},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><\/td>":""},numberCellHtml:function(n){var t=n.start,i;return this.dayNumbersVisible?(i=this.dayGrid.getDayClasses(t),i.unshift("fc-day-number"),'<td class="'+i.join(" ")+'" data-date="'+t.format(this.isJalaali)+'">'+t.date()+"<\/td>"):"<td/>"},weekNumberStyleAttr:function(){return this.weekNumberWidth!==null?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var n=this.opt("eventLimit");return n&&typeof n!="number"},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=st(this.el.find(".fc-week-number")))},setHeight:function(n,t){var i=this.opt("eventLimit"),r;tt(this.scrollerEl);ut(this.headRowEl);this.dayGrid.destroySegPopover();i&&typeof i=="number"&&this.dayGrid.limitRows(i);r=this.computeScrollerHeight(n);this.setGridHeight(r,t);i&&typeof i!="number"&&this.dayGrid.limitRows(i);!t&&ht(this.scrollerEl,r)&&(rt(this.headRowEl,k(this.scrollerEl)),r=this.computeScrollerHeight(n),this.scrollerEl.height(r))},setGridHeight:function(n,t){t?ot(this.dayGrid.rowEls):et(this.dayGrid.rowEls,n,!0)},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.end},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},renderEvents:function(t){var e=t.slice().reverse(),o=n("<div><\/div>"),s,r,h,v,u,a,f;for(this.el.html("").append('<ul class="my-fc-list"><\/ul>').children().append(o),s=this.end.clone(),r=this.start.clone();r.isBefore(s);){for(h=!1,v=r.clone().add(1,"days"),u=e.length-1;u>=0;--u){var i=e[u],c=i.start.clone(),l=this.calendar.getEventEnd(i);r.isAfter(l)||r.isSame(l,"day")&&!c.isSame(l,"day")||s.isBefore(c)?e.splice(u,1):v.isAfter(c)&&(h||(o.append('                                <li class="my-fc-header" date="">                                    <span class="my-fc-header-day">'+r.format("dddd",this.isJalaali)+'<\/span>                                    <span class="my-fc-header-date">'+(this.isJalaali?r.format("YYYY-M-D",this.isJalaali):r.format(this.opt("dateFormat")))+"<\/span>                                <\/li>"),h=!0),a=i.title,i.className=="event-birthday"&&(a='<a href="/Account/Detail/'+i.title.trim()+'" aria-label="View members profile" class="profile-popup">'+i.title+"<\/a>"),f=n('                            <li class="my-fc-row '+i.className+'">                                <span class="my-fc-time">'+(i.className=="event-birthday"?"":i.allDay?this.opt("allDayText"):i.start.format("HH:mm",this.isJalaali)+" - "+(i.end==null?"":i.end.format("HH:mm",this.isJalaali)))+'<\/span>                                <span class="my-fc-title">-'+a+"-<\/span>                            <\/li>"),o.append(f),function(n,t,i){f.on("click",function(r){return n.trigger("eventClick",i,t,r)});f.on("mouseenter",function(){return n.trigger("eventRender",i,t)})}(this,i,f))}r.add(1,"days")}this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.dayGrid.destroyEvents()},renderDrag:function(n,t){return this.dayGrid.renderDrag(n,t)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(n){this.dayGrid.renderSelection(n)},destroySelection:function(){this.dayGrid.destroySelection()}}),fu.defaults={},e.upComing={type:"list",duration:{days:40}},ae=e.callist=o.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new v(this);this.coordMap=this.dayGrid.coordMap},setRange:function(n){o.prototype.setRange.call(this,n);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(n)},computeRange:function(n){var t=o.prototype.computeRange.call(this,n);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderHtml());this.headRowEl=this.el.find("thead .fc-row");this.scrollerEl=this.el.find(".fc-day-grid-container");this.dayGrid.coordMap.containerEl=this.scrollerEl;this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates(this.hasRigidRows())},destroy:function(){this.dayGrid.destroyDates();this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+Snitzres.UpcomingEvents+'<\/td><\/tr><\/thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'},headIntroHtml:function(){if(this.weekNumbersVisible)return'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+r(this.opt("weekNumberTitle"))+"<\/span><\/th>"},numberIntroHtml:function(n){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(n,0).start.format("w")+"<\/span><\/td>":""},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"><\/td>":""},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><\/td>":""},numberCellHtml:function(n){var t=n.start,i;return this.dayNumbersVisible?(i=this.dayGrid.getDayClasses(t),i.unshift("fc-day-number"),'<td class="'+i.join(" ")+'" data-date="'+t.format(this.isJalaali)+'">'+t.date()+"<\/td>"):"<td/>"},weekNumberStyleAttr:function(){return this.weekNumberWidth!==null?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var n=this.opt("eventLimit");return n&&typeof n!="number"},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=st(this.el.find(".fc-week-number")))},setHeight:function(n,t){var i=this.opt("eventLimit"),r;tt(this.scrollerEl);ut(this.headRowEl);this.dayGrid.destroySegPopover();i&&typeof i=="number"&&this.dayGrid.limitRows(i);r=this.computeScrollerHeight(n);this.setGridHeight(r,t);i&&typeof i!="number"&&this.dayGrid.limitRows(i);!t&&ht(this.scrollerEl,r)&&(rt(this.headRowEl,k(this.scrollerEl)),r=this.computeScrollerHeight(n),this.scrollerEl.height(r))},setGridHeight:function(n,t){t?ot(this.dayGrid.rowEls):et(this.dayGrid.rowEls,n,!0)},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.end},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},renderEvents:function(t){var s=t.slice().reverse(),h=n("<div><\/div>"),c,r,l,v,u,o,e;for(this.scrollerEl=this.el.addClass(""),this.el.html("").append('<ul class="my-fc-list"><\/ul>').children().append(h),c=this.end.clone(),r=this.start.clone();r.isBefore(c);){for(l=!1,v=r.clone().add(1,"days"),u=s.length-1;u>=0;--u){var i=s[u],f=i.start.clone(),a=this.calendar.getEventEnd(i),y=this.calendar.moment(i.posted);r.isAfter(a)||r.isSame(a,"day")&&!f.isSame(a,"day")||c.isBefore(f)?s.splice(u,1):v.isAfter(f)&&(l||(o='                                <li class="my-fc-header" data-club="'+i.clublong+'" data-loc="'+i.location+'" >                                    <span class="my-fc-header-date"> <\/span>                                    <span class="my-fc-header-day">'+i.title+' <i title="'+i.author.name+" "+y.format(this.opt("dateFormat"))+'" data-toggle="tooltip" class="fa fa-info-circle fa-1_5x"><\/i> ',i.author.name===i.currentuser&&(o+='<a href="/Events/AddEditEvent/'+i.id+'"><i class="fa fa-edit fa-1_5x"><\/i><\/a> <a href="#" data-id="'+i.id+'" class="event-del"><i class="fa fa-trash-o fa-1_5x"><\/i><\/a>'),o+="<\/span><\/li>",h.append(o),l=!0),e=n('                            <li class="my-fc-row clearfix" data-club="'+i.club+'" data-loc="'+i.location+'">                                <div class="my-fc-title">'+i.description+'<\/div>                                <span class="my-fc-time text-center">'+f.format("dd")+", "+f.format(this.opt("dateFormat"))+"<br />"+i.club+"<\/span>                            <\/li>"),h.append(e),function(n,t,i){e.on("click",function(r){return n.trigger("eventClick",i,t,r)});e.on("mouseenter",function(){return n.trigger("eventRender",i,t)})}(this,i,e))}r.add(1,"days")}this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.dayGrid.destroyEvents()},renderDrag:function(n,t){return this.dayGrid.renderDrag(n,t)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(n){this.dayGrid.renderSelection(n)},destroySelection:function(){this.dayGrid.destroySelection()}}),e.callistWeek={type:"callist",duration:{weeks:1}},e.callistMonth={type:"callist",duration:{months:1}},e.callistUpComing={type:"callist",duration:{weeks:8},rows:8},i});